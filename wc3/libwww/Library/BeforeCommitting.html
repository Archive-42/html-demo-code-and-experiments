<HTML>
<HEAD>
  <STYLE TYPE="text/css">
B {
   color: red;
}
</STYLE>
  <TITLE>How to Commit changes and avoid Surprises</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<P>
<A HREF="../"><IMG SRC="../Icons/WWW/w3c_home" ALT="W3C" BORDER="0"></A>
<A HREF="./"><IMG SRC="../Icons/WWW/Lib48x" ALT="libwww" BORDER="0"></A>
<H1>
  How to Commit changes and avoid Surprises
</H1>
<P>
<A HREF="cvs.html">CVS</A> is a great tool allowing multiple developers to
work simultaneously on the same code base. However, in order to avoid surprises,
it is crucial that everybody follows this work policy for how to commit changes
to the <A HREF="cvs.html">libwww CVS codebase</A>.
<H3>
  Before you Start
</H3>
<DL>
  <DT>
    <B>Send a mail</B> to
    <A HREF="http://lists.w3.org/Archives/Public/www-lib/">&lt;www-lib@w3.org&gt;</A>
    about what you are working on
  <DD>
    We don't want to do double work!
  <DT>
    <B>Check that the legal stuff is settled</B>!
  <DD>
    Before W3C can accept any diffs we <A HREF="/PATCHES.html">need you to send
    us this form</A> so that we know we can give out the code for free.
  <DT>
    <B>Do never do any pretty printing</B> of the code
  <DD>
    Read the <A HREF="User/Style/">Programming Style Guide</A> for more details
    why things are the way they are.
</DL>
<H3>
  Preparing the Commit
</H3>
<DL>
  <DT>
    <B>Make sure that everything compiles</B>
  <DD>
    Do a "<CODE>make</CODE>" on everything in the libwww package and make sure
    there are no warnings, errors and the like
  <DT>
    <B>Make sure that all changes are the ones you expect</B>
  <DD>
    Do a "<CODE>cvs diff</CODE>" between your work version and the repository
    in order to filter out unwanted comments and other stuff that you may have
    left
  <DT>
    <B>Resolve any CVS conflicts</B> by sending a mail to
    <A HREF="http://lists.w3.org/Archives/Public/www-lib/">&lt;www-lib@w3.org&gt;</A>
    asking for input
  <DD>
    Don't just remove other people's edits!
  <DT>
    <B>Send a mail</B> to
    <A HREF="http://lists.w3.org/Archives/Public/www-lib/">&lt;www-lib@w3.org&gt;</A>
    when you are ready to commit
  <DD>
    Include the diffs and explain what other people should look out for and ask
    for feedback
</DL>
<H3>
  Doing the Commit
</H3>
<DL>
  <DT>
    <B>Do never commit as the last thing Friday night or before a vacation!</B>
  <DD>
    If there are problems then you better be there!
  <DT>
    <B>Document what you have done</B> by writing extensive
    <A HREF="http://dev.w3.org/cgi-bin/cvsweb/">CVS logs</A>
  <DD>
    Other people must be able to understand it as well
  <DT>
    <B>Add new files to CVS</B>
  <DD>
    You can check this by doing a "<CODE>cvs update</CODE>". All unknown files
    are marked with a "?". Note that <CODE>.h</CODE> files are not in CVS - only
    <CODE>.html </CODE>files!
</DL>
<P>
Again, following the rules are <B>very important</B> in order not to waste
any time
<P>
  <HR>
<ADDRESS>
  <A HREF="/People/Jose/">Jos&eacute; Kahan</A>,<BR>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
