<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
   "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>Libwww Ready to go Samples</title>
</head>
<body bgcolor="#ffffff" text="#000000">

<p><a href="../../"><img src="../../Icons/WWW/w3c_home" alt="W3C"
border="0"></a> <a href="../"><img src="../../Icons/WWW/Lib48x" alt="libwww"
border="0"></a></p>

<h1>Libwww Ready to go Samples</h1>

<p align="center"><a href="#Initialization">Initialization</a> | <a
href="#GET">GET</a> | <a href="#HEAD">HEAD</a> | <a href="#PUT">PUT</a> | <a
href="#POST">POST</a> | <a href="#TRACE">TRACE</a> | <a
href="#OPTIONS">OPTIONS</a> | <a href="#HTML">HTML Parsing</a> | <a
href="#XML">XML/RDF Parsing</a> |&nbsp;<a href="#serve">Serving Requests</a> |
<a href="#event">Eventloop</a> | <a href="#Big">Big sample apps</a></p>

<p>This is the list of small examples using the very basic features of the
Library. If you have not already compiled the library then please read the <a
href="../../INSTALL.html">Installation guide</a> before you continue. If you
want more details of how to use the Library then please read the <a
href="../User/Using/">User's Guide</a>.</p>

<p>In the example we assume that the compiler knows where to look for libwww
include files and the binary library itself. &nbsp;If you are using the GNU
autoconf configure script then the examples are built as part of the overall
package. On <a href="../User/Platform/">other platforms</a>, you must provide
the make file on your own.</p>

<h2><a name="Initialization">Initialization Samples</a></h2>
<dl>
<dt><a href="libapp_1.c">Start and Stop the Library</a></dt>
<dd>
This is a dummy program that just initializes as terminates the Library
</dd>
<dt><a href="init.c">Default Initialization of libwww</a></dt>
<dd>
This example shows how to set up all the default handlers, parsers,
converters, etc. using the <a href="../src/WWWInit.html">WWWInit
interface</a>.
</dd>
<dt><a href="libapp_2.c">Specialized Initialization of libwww</a></dt>
<dd>
This example show how to register a protocol module and a stream converter
</dd>
<dt><a href="tzcheck.c">Timezone sampler</a></dt>
<dd>
Figures out what timezone you are in. This is important for libwww to know as
the persistent cache and a lot of other things depends on it.
</dd>
</dl>

<h2>Client Requests using libwww</h2>

<p>These sample programs are all using libwww as a&nbsp;client side library
which is what comes most natural to libwww.</p>

<h3><a name="GET">Samples using GET Requests</a></h3>
<dl>
<dt><a href="chunk.c">Load a document and headers into memory</a></dt>
<dd>
A simple example of how you can create a memory buffer containing the contents
of the URL <i>and</i> all the protocol headers.
</dd>
<dt><a href="chunkbody.c">Load a document without headers into memory</a></dt>
<dd>
This program shows how to load a URL into memory <i>without</i> getting the
header information.
</dd>
<dt><a href="libapp_3.c">Load a document and count the number of bytes in the
body</a></dt>
<dd>
This is an example of how you can add streams and then get the desired result.
The example shows how to add a content length counter stream and get the
result back.
</dd>
<dt>Load a document and dump to local File</dt>
<dd>
We here show how to fetch a document using HTTP and to save it to local file.
You must specify a local file name on the command line. There are two versions
of this program: The <a href="libapp_4.c">preemptive version</a> with
<b>no</b> event loop and the <a href="LoadToFile.c">non-preemptive version</a>
for <b>integration</b> with Windows' event&nbsp;and other event loops.
</dd>
<dt><a href="multichunk.c">Load the same document <tt>n</tt> times using
blocking sockets</a></dt>
<dd>
You can use this (but be careful) to beat up a server with the same document
as fast as possible.
</dd>
<dt><a href="mget.c">Load the same document <tt>n</tt> times using
non-blocking sockets</a></dt>
<dd>
Be careful! Also remember that only <tt>GET</tt> and <tt>HEAD</tt> requests
can be pipelined in HTTP - not <tt>POST</tt>, for example.
</dd>
<dt><a href="range.c">Range Requests</a></dt>
<dd>
Range requests can be used to ask for a part or for several parts of a
document from an HTTP server without asking for the whole thing. The output is
sent directly to stdout. Run the program without parameters for instructions.
</dd>
<dt><a href="cookie.c">Simple cookie usage example</a></dt>
<dd>
Not that I like cookies - but this is a simple sample app showing how to use
cookies with the <a href="../src/HTCookie.html">HTTP Cookie module.</a>
</dd>
</dl>

<h3><a name="HEAD">Samples using HEAD Requests</a></h3>
<dl>
<dt><a href="getheaders.c">Get the header fields of a response</a></dt>
<dd>
Prints out and potentially filters the response header fields you are
interested
</dd>
<dt><a href="head.c">Issue a HEAD request</a></dt>
<dd>
This small example sets up a request and performs a HEAD method on the
resource provided on the command line
</dd>
<dt><a href="isredirected.c">Issue a HEAD request and check for
redirections</a></dt>
<dd>
A small program that sends a request out and checks whether is was redirected.
If so then print out the redirected address
</dd>
</dl>

<h3><a name="PUT">Samples using PUT Requests</a></h3>
<dl>
<dt><a href="put.c">Simple PUT program</a></dt>
<dd>
Lets you save a document to an HTTP server. Note that both input and output is
a Web address (URI) so you can save a document from anywhere to anywhere.
</dd>
<dt><a href="memput.c">Save data from memory to a remote server</a></dt>
<dd>
This sample shows you how to use temporary anchors and how to save data from
memory using PUT
</dd>
</dl>

<h3><a name="POST">Samples using POST Requests</a></h3>
<dl>
<dt><a href="postform.c">Post an HTML Form</a></dt>
<dd>
Use this example to POST HTML form data to a server
</dd>
<dt><a href="post.c">Post data from memory to a remote server</a></dt>
<dd>
This sample shows you how to use temporary anchors and how to POST data from
memory
</dd>
</dl>

<h3><a name="TRACE">Samples using TRACE Requests</a></h3>
<dl>
<dt><a href="trace.c">Send a TRACE request to a server</a></dt>
<dd>
Allows to include the max number of hops (proxies) the request must pass
</dd>
</dl>

<h3><a name="OPTIONS">Samples using OPTIONS Requests</a></h3>
<dl>
<dt>Send an OPTIONS request to a server - this is yet an exercise for the
user!</dt>
<dd>
It should allow support for sending <tt>OPTIONS</tt> on a * URI (although I
really don't like that!)
</dd>
</dl>

<h2><a name="HTML">HTML Parsing</a></h2>

<p>Three small sample apps that show how to use the new <a
href="../src/HText.html">HText interface</a> and the <a
href="../src/HTML.html">libwww HTML parser</a>.</p>
<dl>
<dt><a href="showlinks.c">showlinks.c</a></dt>
<dd>
Parses a document and writes out all the links that it found to stdout
</dd>
<dt><a href="showtags.c">showtags.c</a></dt>
<dd>
Parses a document and writes out all the HTML tags found to stdout
</dd>
<dt><a href="showtext.c">showtext.c</a></dt>
<dd>
Parses a document and writes out all the "plain" text - that is what's between
the HTML markup
</dd>
<dt><a href="tiny.c">tiny.c</a></dt>
<dd>
Is a very rudimentary HTTP/HTML browser with no layout engine and no fuzz.
It's main feature is that it is small (&lt;200K when stripped on linux).
</dd>
</dl>

<h2><a name="XML">XML/RDF Parsing</a></h2>

<p>Here are some sample apps that show how to use libwww together with <a
href="http://www.jclark.com/xml/expat.html">James Clark's expat XML parser</a>
and John Punin's integration of the SiRPAC RDF parser in libwww. See the <a
href="../User/Guide/#Expat">XML module</a> for more information</p>
<dl>
<dt><a href="showxml.c">showxml.c</a></dt>
<dd>
A simple program that shows all XML start and end tags and nothing else
</dd>
<dt><a href="stri.c">stri.c</a></dt>
<dd>
This sample app uses the <a href="../src/HTRDF.html">RDF parser</a> to
generate a set of triples and send them to stdout.
</dd>
<dt><a href="ptri.c">ptri.c</a></dt>
<dd>
A sample application using the <a href="../src/HTRDF.html">RDF parser</a> more
directly as we control where the triples are sent ourselves
</dd>
</dl>

<h2><a name="serve">Server Requests using libwww</a></h2>

<p>Although libwww is primarily for clients, it is in fact symmetric in that
it can handle both client requests and server requests. The way this is
handled is that each <a href="../src/HTProt.html">protocol</a> is registered
with both a client handler and a server handler - depending on which type of
request you use, one of them is called. Note that in order to be able to serve
any document, there actually have to be a server handler. Currently, libwww
only comes with a <a href="../src/HTSocket.html">raw socket loader</a> which
isn't much of a server.</p>
<dl>
<dt><a href="listen.c">Listen on a socket</a></dt>
<dd>
This sample program opens a raw socket and listens on that port. Anything
arriving is forwarded asis to stdout
</dd>
</dl>

<h2><a name="event">Using the Eventloop</a></h2>

<p>Libwww is designed using a "coke machine model", in other words using
asynchronous requests for most of its operations. For <tt>GET</tt> and
<tt>HEAD</tt> requests you can also use synchronous requests, but they are not
as flexible and requires more care.</p>
<dl>
<dt><a href="eventloop.c">Simple eventloop</a></dt>
<dd>
Keeps loading the same file whenever a user enters something. Stop the
application by hitting "<tt>q</tt>"
</dd>
</dl>

<h2><a name="Big">Bigger Sample Applications</a></h2>

<p>You can also have a look at the more <a
href="../User/Applications.html">complete sample applications</a> which are
capable of doing more interesting things. If you have any example code that
you would like to <a href="../../PATCHES.html">share with us</a> then please
send us a mail so that we can add it to this page.</p>

<p></p>
<hr>

<address>
<a href="/People/Frystyk/">Henrik Frystyk Nielsen</a>,<br>
@(#) $Id$ </address>
</body>
</html>
