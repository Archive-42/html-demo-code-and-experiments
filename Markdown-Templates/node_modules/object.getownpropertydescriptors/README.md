Object.getOwnPropertyDescriptors <sup>[![Version\ Badge](http://versionbadg.es/es-shims/object.getownpropertydescriptors.svg)](https://npmjs.org/package/object.getownpropertydescriptors)</sup>
================================================================================================================================================================================================

[![Build Status](https://travis-ci.org/es-shims/Object.getOwnPropertyDescriptors.svg)](https://travis-ci.org/es-shims/Object.getOwnPropertyDescriptors) [![dependency status](https://david-dm.org/es-shims/object.getownpropertydescriptors.svg)](https://david-dm.org/es-shims/object.getownpropertydescriptors) [![dev dependency status](https://david-dm.org/es-shims/object.getownpropertydescriptors/dev-status.svg)](https://david-dm.org/es-shims/object.getownpropertydescriptors#info=devDependencies) [![License](http://img.shields.io/npm/l/object.getownpropertydescriptors.svg)](LICENSE) [![Downloads](http://img.shields.io/npm/dm/object.getownpropertydescriptors.svg)](http://npm-stat.com/charts.html?package=object.getownpropertydescriptors)

[![npm badge](https://nodei.co/npm/object.getownpropertydescriptors.png?downloads=true&stars=true)](https://npmjs.org/package/object.getownpropertydescriptors)

An ES2017 spec-compliant shim for `Object.getOwnPropertyDescriptors` that works in ES5. Invoke its “shim” method to shim `Object.getOwnPropertyDescriptors` if it is unavailable, and if `Object.getOwnPropertyDescriptor` is available.

This package implements the [es-shim API](https://github.com/es-shims/api) interface. It works in an ES3-supported environment and complies with the [spec](https://github.com/tc39/ecma262/pull/582).

Example
-------

    var getDescriptors = require('object.getownpropertydescriptors');
    var assert = require('assert');
    var obj = { normal: Infinity };
    var enumDescriptor = {
        enumerable: false,
        writable: false,
        configurable: true,
        value: true
    };
    var writableDescriptor = {
        enumerable: true,
        writable: true,
        configurable: true,
        value: 42
    };
    var symbol = Symbol();
    var symDescriptor = {
        enumerable: true,
        writable: true,
        configurable: false,
        value: [symbol]
    };

    Object.defineProperty(obj, 'enumerable', enumDescriptor);
    Object.defineProperty(obj, 'writable', writableDescriptor);
    Object.defineProperty(obj, 'symbol', symDescriptor);

    var descriptors = getDescriptors(obj);

    assert.deepEqual(descriptors, {
        normal: {
            enumerable: true,
            writable: true,
            configurable: true,
            value: Infinity
        },
        enumerable: enumDescriptor,
        writable: writableDescriptor,
        symbol: symDescriptor
    });

    var getDescriptors = require('object.getownpropertydescriptors');
    var assert = require('assert');
    /* when Object.getOwnPropertyDescriptors is not present */
    delete Object.getOwnPropertyDescriptors;
    var shimmedDescriptors = getDescriptors.shim();
    assert.equal(shimmedDescriptors, getDescriptors);
    assert.deepEqual(shimmedDescriptors(obj), getDescriptors(obj));

    var getDescriptors = require('object.getownpropertydescriptors');
    var assert = require('assert');
    /* when Object.getOwnPropertyDescriptors is present */
    var shimmedDescriptors = getDescriptors.shim();
    assert.notEqual(shimmedDescriptors, getDescriptors);
    assert.deepEqual(shimmedDescriptors(obj), getDescriptors(obj));

Tests
-----

Simply clone the repo, `npm install`, and run `npm test`
