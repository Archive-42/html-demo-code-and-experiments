<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>API</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="api-documentation">API Documentation</h1>
<p><em>Please use only this documented API when working with the parser. Methods not documented here are subject to change at any point.</em></p>
<!-- toc -->
<ul>
<li><a href="#parser-function"><code>parser</code> function</a>
<ul>
<li><a href="#parseratwordprops"><code>parser.atword([props])</code></a></li>
<li><a href="#parsercolonprops"><code>parser.colon([props])</code></a></li>
<li><a href="#parsercommaprops"><code>parser.comma([props])</code></a></li>
<li><a href="#parsercommentprops"><code>parser.comment([props])</code></a></li>
<li><a href="#parserfuncprops"><code>parser.func([props])</code></a></li>
<li><a href="#parsernumberprops"><code>parser.number([props])</code></a></li>
<li><a href="#parseroperatorprops"><code>parser.operator([props])</code></a></li>
<li><a href="#parserparenprops"><code>parser.paren([props])</code></a></li>
<li><a href="#parserstringprops"><code>parser.string([props])</code></a></li>
<li><a href="#parservalueprops"><code>parser.value([props])</code></a></li>
<li><a href="#parserwordprops"><code>parser.word([props])</code></a></li>
<li><a href="#parserunicoderangeprops"><code>parser.unicodeRange([props])</code></a></li>
</ul></li>
<li><a href="#node-types">Node types</a>
<ul>
<li><a href="#nodetype"><code>node.type</code></a></li>
<li><a href="#nodeparent"><code>node.parent</code></a></li>
<li><a href="#nodetostring-stringnode-or---node"><code>node.toString()</code>, <code>String(node)</code>, or <code>'' + node</code></a></li>
<li><a href="#nodenext--nodeprev"><code>node.next()</code> &amp; <code>node.prev()</code></a></li>
<li><a href="#nodereplacewithnode"><code>node.replaceWith(node)</code></a></li>
<li><a href="#noderemove"><code>node.remove()</code></a></li>
<li><a href="#nodeclone"><code>node.clone()</code></a></li>
<li><a href="#noderaws"><code>node.raws</code></a></li>
<li><a href="#nodesource"><code>node.source</code></a></li>
<li><a href="#nodesourceindex"><code>node.sourceIndex</code></a></li>
</ul></li>
<li><a href="#container-types">Container types</a>
<ul>
<li><a href="#containernodes"><code>container.nodes</code></a></li>
<li><a href="#containerfirst--containerlast"><code>container.first</code> &amp; <code>container.last</code></a></li>
<li><a href="#containeratindex"><code>container.at(index)</code></a></li>
<li><a href="#containerindexnode"><code>container.index(node)</code></a></li>
<li><a href="#containerlength"><code>container.length</code></a></li>
<li><a href="#containereachcallback"><code>container.each(callback)</code></a></li>
<li><a href="#containerwalkcallback"><code>container.walk(callback)</code></a></li>
<li><a href="#containerwalk-proxies"><code>container.walk</code> proxies</a></li>
<li><a href="#containerprependnode--containerappendnode"><code>container.prepend(node)</code> &amp; <code>container.append(node)</code></a></li>
<li><a href="#containerinsertbeforeold-new--containerinsertafterold-new"><code>container.insertBefore(old, new)</code> &amp; <code>container.insertAfter(old, new)</code></a></li>
<li><a href="#containerremovechildnode"><code>container.removeChild(node)</code></a></li>
<li><a href="#containerremoveall-or-containerempty"><code>container.removeAll()</code> or <code>container.empty()</code></a></li>
</ul></li>
<li><a href="#root-nodes">Root nodes`</a></li>
<li><a href="#value-nodes">Value nodes</a></li>
</ul>
<!-- tocstop -->
<h2 id="parser-function"><code>parser</code> function</h2>
<p>This is the module’s main entry point, and returns a <code>new Parser</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">let</span> parser <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;postcss-values-parser&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">let</span> ast <span class="op">=</span> <span class="at">parser</span>(source) <span class="co">// tokenizes the source string</span></a>
<a class="sourceLine" id="cb1-4" title="4">            .<span class="at">parse</span>()<span class="op">;</span>    <span class="co">// parses the tokens and returns an AST</span></a></code></pre></div>
<h3 id="parser.atwordprops"><code>parser.atword([props])</code></h3>
<p>Creates a new AtWord value.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">parser</span>.<span class="at">atword</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;@foo&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">// → @foo</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h3 id="parser.colonprops"><code>parser.colon([props])</code></h3>
<p>Creates a new colon Node.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="va">parser</span>.<span class="at">colon</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;:&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">// → :</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties. If no properties are specified, the default value of <code>:</code> will be used. It’s not recommended to deviate from this.</li>
</ul>
<h3 id="parser.commaprops"><code>parser.comma([props])</code></h3>
<p>Creates a new comma Node.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">parser</span>.<span class="at">comma</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;,&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co">// → ,</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties. If no properties are specified, the default value of <code>,</code> will be used. It’s not recommended to deviate from this.</li>
</ul>
<h3 id="parser.commentprops"><code>parser.comment([props])</code></h3>
<p>Creates a new comment.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">parser</span>.<span class="at">comment</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;Affirmative, Dave. I read you.&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">// → /* Affirmative, Dave. I read you. */</span></a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="va">parser</span>.<span class="at">comment</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;Affirmative, Dave. I read you.&#39;</span><span class="op">,</span> <span class="dt">inline</span><span class="op">:</span> <span class="kw">true</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co">// → // Affirmative, Dave. I read you.</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h3 id="parser.funcprops"><code>parser.func([props])</code></h3>
<p>Creates a new function value Container node.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">let</span> func <span class="op">=</span> <span class="va">parser</span>.<span class="at">func</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;calc&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="va">func</span>.<span class="at">append</span>(<span class="va">parser</span>.<span class="at">paren</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="va">func</span>.<span class="at">append</span>(<span class="va">parser</span>.<span class="at">paren</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;)&#39;</span> <span class="op">}</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="va">func</span>.<span class="at">toString</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">// → calc()</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h3 id="parser.numberprops"><code>parser.number([props])</code></h3>
<p>Creates a new number Node.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">parser</span>.<span class="at">number</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">unit</span><span class="op">:</span> <span class="st">&#39;px&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">// → 10px</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h3 id="parser.operatorprops"><code>parser.operator([props])</code></h3>
<p>Creates a new operator Node.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="va">parser</span>.<span class="at">operator</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;+&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">// → +</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h3 id="parser.parenprops"><code>parser.paren([props])</code></h3>
<p>Creates a new parenthesis Node.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="va">parser</span>.<span class="at">paren</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">// → (</span></a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="va">parser</span>.<span class="at">paren</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;)&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">// → )</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties. If no value is specified, the default value of <code>(</code> will be used.</li>
</ul>
<h3 id="parser.stringprops"><code>parser.string([props])</code></h3>
<p>Creates a new string node.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="va">parser</span>.<span class="at">string</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co">// → (empty)</span></a>
<a class="sourceLine" id="cb11-3" title="3"></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="va">parser</span>.<span class="at">string</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;hello&#39;</span><span class="op">,</span> <span class="dt">quote</span><span class="op">:</span> <span class="st">&#39;&quot;&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">// → &quot;hello&quot;</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties. Note: If no <code>quote</code> property is specified, the default value of <code>'</code> will be used.</li>
</ul>
<h3 id="parser.valueprops"><code>parser.value([props])</code></h3>
<p>Creates a new value Node. This node acts as the container for all values within the Root node, but can be created for convenience.</p>
<h3 id="parser.wordprops"><code>parser.word([props])</code></h3>
<p>Creates a new word Node. A <code>Word</code> is anything that doesn’t fall into one of the other node types.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">let</span> word <span class="op">=</span> <span class="va">parser</span>.<span class="at">word</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;#fff&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co">// → #fff</span></a>
<a class="sourceLine" id="cb12-3" title="3"></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="va">word</span>.<span class="at">isHex</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">// → true</span></a>
<a class="sourceLine" id="cb12-6" title="6"></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="va">word</span>.<span class="at">isColor</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">// → true</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h3 id="parser.unicoderangeprops"><code>parser.unicodeRange([props])</code></h3>
<p>Creates a new unicode range Node.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="va">parser</span>.<span class="at">unicodeRange</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;U+26&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">// → U+26</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>props (object)</code>: The new node’s properties.</li>
</ul>
<h2 id="node-types">Node types</h2>
<h3 id="node.type"><code>node.type</code></h3>
<p>A string representation of the node type. It can be one of the following; <code>atword</code>, <code>colon</code>, <code>comma</code>, <code>comment</code>, <code>func</code>, <code>number</code>, <code>operator</code>, <code>paren</code>, <code>string</code>, <code>unicoderange</code>, <code>value</code>, <code>word</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="va">parser</span>.<span class="at">word</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;#fff&#39;</span> <span class="op">}</span>).<span class="at">type</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co">// → &#39;word&#39;</span></a></code></pre></div>
<h3 id="node.parent"><code>node.parent</code></h3>
<p>Returns the parent node.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="va">root</span>.<span class="at">nodes</span>[<span class="dv">0</span>].<span class="at">parent</span> <span class="op">===</span> root<span class="op">;</span></a></code></pre></div>
<h3 id="node.tostring-stringnode-or-node"><code>node.toString()</code>, <code>String(node)</code>, or <code>'' + node</code></h3>
<p>Returns a string representation of the node.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">let</span> color <span class="op">=</span> <span class="va">parser</span>.<span class="at">word</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;#fff&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="at">String</span>(color))<span class="op">;</span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="co">// → #fff</span></a></code></pre></div>
<h3 id="node.next-node.prev"><code>node.next()</code> &amp; <code>node.prev()</code></h3>
<p>Returns the next/previous child of the parent node.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">let</span> next <span class="op">=</span> <span class="va">func</span>.<span class="at">next</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="cf">if</span> (next <span class="op">&amp;&amp;</span> <span class="va">next</span>.<span class="at">type</span> <span class="op">!==</span> <span class="st">&#39;paren&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-3" title="3">    <span class="cf">throw</span> <span class="kw">new</span> <span class="at">Error</span>(<span class="st">&#39;Unclosed function parenthesis!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="op">}</span></a></code></pre></div>
<h3 id="node.replacewithnode"><code>node.replaceWith(node)</code></h3>
<p>Replace a node with another.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">let</span> ast <span class="op">=</span> <span class="at">parser</span>(<span class="st">&#39;#fff&#39;</span>).<span class="at">parse</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">let</span> word <span class="op">=</span> <span class="va">ast</span>.<span class="va">first</span>.<span class="at">first</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="kw">let</span> atword <span class="op">=</span> <span class="va">parser</span>.<span class="at">atword</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;@purple&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-4" title="4"></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="va">word</span>.<span class="at">replaceWith</span>(atword)<span class="op">;</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>node</code>: The node to substitute the original with.</li>
</ul>
<h3 id="node.remove"><code>node.remove()</code></h3>
<p>Removes the node from its parent node.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="cf">if</span> (<span class="va">node</span>.<span class="at">type</span> <span class="op">===</span> <span class="st">&#39;word&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb19-2" title="2">    <span class="va">node</span>.<span class="at">remove</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="op">}</span></a></code></pre></div>
<h3 id="node.clone"><code>node.clone()</code></h3>
<p>Returns a copy of a node, detached from any parent containers that the original might have had.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">let</span> word <span class="op">=</span> <span class="va">parser</span>.<span class="at">word</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;#fff&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">let</span> cloned <span class="op">=</span> <span class="va">word</span>.<span class="at">clone</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb20-3" title="3"></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="va">cloned</span>.<span class="at">value</span> <span class="op">=</span> <span class="st">&#39;#fff&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="at">String</span>(cloned)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="co">// → #000</span></a>
<a class="sourceLine" id="cb20-7" title="7"></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="at">String</span>(word)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-9" title="9"><span class="co">// → #fff</span></a></code></pre></div>
<h3 id="node.raws"><code>node.raws</code></h3>
<p>Extra whitespaces around the node will be assigned to <code>node.raws.before</code> and <code>node.raws.after</code>. Spaces in this context have no semantic meaning, but may be useful for inspection:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb21-1" title="1">  1px        solid         black</a></code></pre></div>
<p>Any space following a node/segement is assigned to the next node’s <code>raws.before</code> property, unless the node with the trailing space is the only node in the set.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">let</span> source <span class="op">=</span> <span class="st">&#39;calc(something about mary)&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">let</span> ast <span class="op">=</span> <span class="at">parser</span>(source).<span class="at">parse</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="kw">let</span> func <span class="op">=</span> <span class="va">ast</span>.<span class="va">first</span>.<span class="at">first</span><span class="op">;</span></a>
<a class="sourceLine" id="cb22-4" title="4"></a>
<a class="sourceLine" id="cb22-5" title="5"><span class="kw">let</span> something <span class="op">=</span> <span class="va">func</span>.<span class="va">first</span>.<span class="at">next</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="kw">let</span> about <span class="op">=</span> <span class="va">something</span>.<span class="at">next</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb22-7" title="7"></a>
<a class="sourceLine" id="cb22-8" title="8"><span class="va">something</span>.<span class="va">raws</span>.<span class="at">after</span><span class="op">;</span></a>
<a class="sourceLine" id="cb22-9" title="9"><span class="co">// → (empty)</span></a>
<a class="sourceLine" id="cb22-10" title="10"></a>
<a class="sourceLine" id="cb22-11" title="11"><span class="va">about</span>.<span class="va">raws</span>.<span class="at">before</span><span class="op">;</span></a>
<a class="sourceLine" id="cb22-12" title="12"><span class="co">// → &#39; &#39;</span></a></code></pre></div>
<p>Additionally, any space remaining after the last node in a set will be assigned to the last non-symbol child’s <code>raws.after</code> property. For example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">let</span> source <span class="op">=</span> <span class="st">&#39;calc(something )&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">let</span> ast <span class="op">=</span> <span class="at">parser</span>(source).<span class="at">parse</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="kw">let</span> func <span class="op">=</span> <span class="va">ast</span>.<span class="va">first</span>.<span class="at">first</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-4" title="4"></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="kw">let</span> something <span class="op">=</span> <span class="va">func</span>.<span class="va">first</span>.<span class="at">next</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb23-6" title="6"><span class="va">something</span>.<span class="va">raws</span>.<span class="at">after</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-7" title="7"><span class="co">// → &#39; &#39;</span></a></code></pre></div>
<h3 id="node.source"><code>node.source</code></h3>
<p>An object describing the node’s start/end, line/column source position.</p>
<p>Within the following CSS, the <code>.bar</code> class node …</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb24-1" title="1"><span class="fu">.foo</span><span class="op">,</span></a>
<a class="sourceLine" id="cb24-2" title="2">  <span class="fu">.bar</span> {}</a></code></pre></div>
<p>… will contain the following <code>source</code> object.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1">source<span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-2" title="2">    <span class="dt">start</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-3" title="3">        <span class="dt">line</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb25-4" title="4">        <span class="dt">column</span><span class="op">:</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb25-5" title="5">    <span class="op">},</span></a>
<a class="sourceLine" id="cb25-6" title="6">    <span class="dt">end</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-7" title="7">        <span class="dt">line</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb25-8" title="8">        <span class="dt">column</span><span class="op">:</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb25-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb25-10" title="10"><span class="op">}</span></a></code></pre></div>
<h3 id="node.sourceindex"><code>node.sourceIndex</code></h3>
<p>The zero-based index of the node within the original source string.</p>
<p>Within the following CSS, the <code>.baz</code> class node will have a <code>sourceIndex</code> of <code>12</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb26-1" title="1"><span class="fu">.foo</span><span class="op">,</span> <span class="fu">.bar</span><span class="op">,</span> <span class="fu">.baz</span> {}</a></code></pre></div>
<h2 id="container-types">Container types</h2>
<p>The <code>root</code>, <code>node</code>, and <code>pseudo</code> nodes have some helper methods for working with their children.</p>
<h3 id="container.nodes"><code>container.nodes</code></h3>
<p>An array of the container’s children.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="co">// Input: h1 h2</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="va">nodes</span>.<span class="at">at</span>(<span class="dv">0</span>).<span class="va">nodes</span>.<span class="at">length</span>   <span class="co">// → 3</span></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="va">nodes</span>.<span class="at">at</span>(<span class="dv">0</span>).<span class="at">nodes</span>[<span class="dv">0</span>].<span class="at">value</span> <span class="co">// → &#39;h1&#39;</span></a>
<a class="sourceLine" id="cb27-4" title="4"><span class="va">nodes</span>.<span class="at">at</span>(<span class="dv">0</span>).<span class="at">nodes</span>[<span class="dv">1</span>].<span class="at">value</span> <span class="co">// → &#39; &#39;</span></a></code></pre></div>
<h3 id="container.first-container.last"><code>container.first</code> &amp; <code>container.last</code></h3>
<p>The first/last child of the container.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"><span class="va">node</span>.<span class="at">first</span> <span class="op">===</span> <span class="va">node</span>.<span class="at">nodes</span>[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="va">node</span>.<span class="at">last</span> <span class="op">===</span> <span class="va">node</span>.<span class="at">nodes</span>[<span class="va">node</span>.<span class="va">nodes</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>]<span class="op">;</span></a></code></pre></div>
<h3 id="container.atindex"><code>container.at(index)</code></h3>
<p>Returns the node at position <code>index</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1"><span class="va">node</span>.<span class="at">at</span>(<span class="dv">0</span>) <span class="op">===</span> <span class="va">node</span>.<span class="at">first</span><span class="op">;</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="va">node</span>.<span class="at">at</span>(<span class="dv">0</span>) <span class="op">===</span> <span class="va">node</span>.<span class="at">nodes</span>[<span class="dv">0</span>]<span class="op">;</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>index</code>: The index of the node to return.</li>
</ul>
<h3 id="container.indexnode"><code>container.index(node)</code></h3>
<p>Return the index of the node within its container.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="va">node</span>.<span class="at">index</span>(<span class="va">node</span>.<span class="at">nodes</span>[<span class="dv">2</span>]) <span class="co">// → 2</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>node</code>: A node within the current container.</li>
</ul>
<h3 id="container.length"><code>container.length</code></h3>
<p>Proxy to the length of the container’s nodes.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"><span class="va">container</span>.<span class="at">length</span> <span class="op">===</span> <span class="va">container</span>.<span class="va">nodes</span>.<span class="at">length</span></a></code></pre></div>
<h3 id="container.eachcallback"><code>container.each(callback)</code></h3>
<p>Iterate the container’s immediate children, calling <code>callback</code> for each child. You may return <code>false</code> within the callback to break the iteration.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">let</span> className<span class="op">;</span></a>
<a class="sourceLine" id="cb32-2" title="2"><span class="va">nodes</span>.<span class="at">each</span>(<span class="kw">function</span> (node<span class="op">,</span> index) <span class="op">{</span></a>
<a class="sourceLine" id="cb32-3" title="3">    <span class="cf">if</span> (<span class="va">node</span>.<span class="at">type</span> <span class="op">===</span> <span class="st">&#39;class&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb32-4" title="4">        className <span class="op">=</span> <span class="va">node</span>.<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb32-5" title="5">        <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb32-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb32-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Note that unlike <code>Array#forEach()</code>, this iterator is safe to use whilst adding or removing nodes from the container.</p>
<p>Arguments:</p>
<ul>
<li><code>callback (function)</code>: A function to call for each node, which receives <code>node</code> and <code>index</code> arguments.</li>
</ul>
<h3 id="container.walkcallback"><code>container.walk(callback)</code></h3>
<p>Like <code>container#each</code>, but will also iterate child nodes as long as they are <code>container</code> types.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"><span class="va">nodes</span>.<span class="at">walk</span>(<span class="kw">function</span> (node<span class="op">,</span> index) <span class="op">{</span></a>
<a class="sourceLine" id="cb33-2" title="2">    <span class="co">// all nodes</span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>callback (function)</code>: A function to call for each node, which receives <code>node</code> and <code>index</code> arguments.</li>
</ul>
<p>This iterator is safe to use whilst mutating <code>container.nodes</code>, like <code>container#each</code>.</p>
<h3 id="container.walk-proxies"><code>container.walk</code> proxies</h3>
<p>The container class provides proxy methods for iterating over types of nodes, so that it is easier to write modules that target specific nodes. Those methods are:</p>
<ul>
<li><code>container.walkAtWords</code></li>
<li><code>container.walkColons</code></li>
<li><code>container.walkCommas</code></li>
<li><code>container.walkComments</code></li>
<li><code>container.walkFunctionNodes</code></li>
<li><code>container.walkNumberNodes</code></li>
<li><code>container.walkOperators</code></li>
<li><code>container.walkParenthesis</code></li>
<li><code>container.walkStringNodes</code></li>
<li><code>container.walkUnicodeRanges</code></li>
<li><code>container.walkWords</code></li>
</ul>
<h3 id="container.prependnode-container.appendnode"><code>container.prepend(node)</code> &amp; <code>container.append(node)</code></h3>
<p>Add a node to the start/end of the container. Note that doing so will set the parent property of the node to this container.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">let</span> color <span class="op">=</span> <span class="va">parser</span>.<span class="at">word</span>(<span class="op">{</span> <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;#fff&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="va">node</span>.<span class="at">append</span>(color)<span class="op">;</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>node</code>: The node to add.</li>
</ul>
<h3 id="container.insertbeforeold-new-container.insertafterold-new"><code>container.insertBefore(old, new)</code> &amp; <code>container.insertAfter(old, new)</code></h3>
<p>Add a node before or after an existing node in a container:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"><span class="va">nodes</span>.<span class="at">walk</span>(<span class="kw">function</span> (node) <span class="op">{</span></a>
<a class="sourceLine" id="cb35-2" title="2">    <span class="cf">if</span> (<span class="va">node</span>.<span class="at">type</span> <span class="op">!==</span> <span class="st">&#39;word&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb35-3" title="3">        <span class="kw">let</span> colon <span class="op">=</span> <span class="va">parser</span>.<span class="at">colon</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb35-4" title="4">        <span class="va">node</span>.<span class="va">parent</span>.<span class="at">insertAfter</span>(node<span class="op">,</span> colon)<span class="op">;</span></a>
<a class="sourceLine" id="cb35-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb35-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>old</code>: The existing node in the container.</li>
<li><code>new</code>: The new node to add before/after the existing node.</li>
</ul>
<h3 id="container.removechildnode"><code>container.removeChild(node)</code></h3>
<p>Remove the node from the container. Note that you can also use <code>node.remove()</code> if you would like to remove just a single node.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" title="1"><span class="va">node</span>.<span class="at">length</span> <span class="co">// → 2</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="va">node</span>.<span class="at">remove</span>(word)</a>
<a class="sourceLine" id="cb36-3" title="3"><span class="va">node</span>.<span class="at">length</span> <span class="co">// → 1;</span></a>
<a class="sourceLine" id="cb36-4" title="4"><span class="va">word</span>.<span class="at">parent</span>       <span class="co">// undefined</span></a></code></pre></div>
<p>Arguments:</p>
<ul>
<li><code>node</code>: The node to remove.</li>
</ul>
<h3 id="container.removeall-or-container.empty"><code>container.removeAll()</code> or <code>container.empty()</code></h3>
<p>Remove all children from the container.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb37-1" title="1"><span class="va">node</span>.<span class="at">removeAll</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb37-2" title="2"><span class="va">node</span>.<span class="at">length</span> <span class="co">// → 0</span></a></code></pre></div>
<h2 id="root-nodes">Root nodes`</h2>
<p>A root node represents the top-level Container for Value nodes. Indeed, all a root’s <code>toString()</code> method does is join its node children with a ‘,’. Other than this, it has no special functionality and acts like a container.</p>
<h2 id="value-nodes">Value nodes</h2>
<p>A Value node represents a single compound node. For example, this node string <code>1px solid black</code>, is represented as three distinct nodes. It has no special functionality of its own.</p>
</body>
</html>
