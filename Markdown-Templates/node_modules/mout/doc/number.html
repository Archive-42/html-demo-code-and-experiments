<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>number</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="number">number</h1>
<p>Number utilities.</p>
<h2 id="abbreviateval-ndecimaldigits-dictionarystring">abbreviate(val[, nDecimalDigits, dictionary]):String</h2>
<p>Abbreviate number to thousands (K), millions (M) or billions (B).</p>
<p>The default value for <code>nDecimalDigits</code> is <code>1</code>.</p>
<h3 id="example">Example</h3>
<pre><code>abbreviate(123456);     // &quot;123.5K&quot;
abbreviate(12345678);   // &quot;12.3M&quot;
abbreviate(1234567890); // &quot;1.2B&quot;</code></pre>
<p>You can set the amount of decimal digits (default is <code>1</code>):</p>
<pre><code>abbreviate(543);    // &quot;0.5K&quot;
abbreviate(543, 1); // &quot;0.5K&quot;
abbreviate(543, 2); // &quot;0.54K&quot;
abbreviate(543, 3); // &quot;0.543K&quot;</code></pre>
<p>You can customize the abbreviation by passing a custom “dictionary”:</p>
<pre><code>var _ptbrDict = {
    thousand: &#39; mil&#39;,
    million: &#39; Mi&#39;,
    billion: &#39; Bi&#39;
};
function customAbbr(val) {
    return abbreviate(val, 1, _ptbrDict);
}

customAbbr(123456); // &quot;123.5 mil&quot;
customAbbr(12345678); // &quot;12.3 Mi&quot;
customAbbr(1234567890); // &quot;1.2 Bi&quot;</code></pre>
<h2 id="currencyformatval-ndecimaldigits-decimalseparator-thousandsseparatorstring">currencyFormat(val[, nDecimalDigits, decimalSeparator, thousandsSeparator]):String</h2>
<p>Format a number as currency.</p>
<h3 id="example-1">Example:</h3>
<pre><code>currencyFormat(1000);              // &quot;1,000.00&quot;
currencyFormat(1000, 1);           // &quot;1,000.0&quot;
currencyFormat(1000, 2, &#39;,&#39;, &#39;.&#39;); // &quot;1.000,00&quot;</code></pre>
<h2 id="enforceprecisionval-ndecimaldigitsnumber">enforcePrecision(val, nDecimalDigits):Number</h2>
<p>Enforce a specific amount of decimal digits and also fix floating point rounding issues.</p>
<h3 id="example-2">Example:</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">enforcePrecision</span>(<span class="fl">0.615</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span> <span class="co">// 0.62</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="at">enforcePrecision</span>(<span class="fl">0.625</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span> <span class="co">// 0.63</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">//floating point rounding &quot;error&quot; (rounds to odd number)</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="op">+</span>(<span class="fl">0.615</span>).<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span>        <span class="co">// 0.61</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="op">+</span>(<span class="fl">0.625</span>).<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span>        <span class="co">// 0.63</span></a></code></pre></div>
<h2 id="isnanvalboolean">isNaN(val):Boolean</h2>
<p>ES6 <code>Number.isNaN()</code>, checks if supplied value is <code>NaN</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// only returns `true` for `NaN`</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="at">isNaN</span>(<span class="kw">NaN</span>)<span class="op">;</span>    <span class="co">// true</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="at">isNaN</span>(<span class="dv">0</span> / <span class="dv">0</span>)<span class="op">;</span>  <span class="co">// true</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">// everything else is `false`</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="at">isNaN</span>(<span class="kw">true</span>)<span class="op">;</span>   <span class="co">// false</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="at">isNaN</span>(<span class="dv">123</span>)<span class="op">;</span>    <span class="co">// false</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="at">isNaN</span>(<span class="st">&#39;asd&#39;</span>)<span class="op">;</span>  <span class="co">// false</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="at">isNaN</span>(<span class="st">&#39;NaN&#39;</span>)<span class="op">;</span>  <span class="co">// false</span></a></code></pre></div>
<h2 id="max_intnumber">MAX_INT:Number</h2>
<p>Maximum 32-bit signed integer value. <code>Math.pow(2, 31) - 1</code></p>
<h3 id="example-3">Example:</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="va">console</span>.<span class="at">log</span>( MAX_INT )<span class="op">;</span> <span class="co">// 2147483647</span></a></code></pre></div>
<h2 id="max_safe_integernumber">MAX_SAFE_INTEGER:Number</h2>
<p>Maximum safe integer. <code>Math.pow(2,53) − 1</code></p>
<h2 id="max_uintnumber">MAX_UINT:Number</h2>
<p>Maximum 32-bit unsigned integer value. <code>Math.pow(2, 32) - 1</code></p>
<h3 id="example-4">Example:</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">console</span>.<span class="at">log</span>( MAX_UINT )<span class="op">;</span> <span class="co">// 4294967295</span></a></code></pre></div>
<h2 id="min_intnumber">MIN_INT:Number</h2>
<p>Minimum 32-bit signed integer value. <code>Math.pow(2, 31) * -1</code>.</p>
<h3 id="example-5">Example:</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="va">console</span>.<span class="at">log</span>( MIN_INT )<span class="op">;</span> <span class="co">// -2147483648</span></a></code></pre></div>
<h2 id="nthnstring">nth(n):String</h2>
<p>Returns the “nth” of number. (<code>"st"</code>, <code>"nd"</code>, <code>"rd"</code>, <code>"th"</code>)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="at">nth</span>(<span class="dv">1</span>)<span class="op">;</span> <span class="co">// &quot;st&quot;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="at">nth</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// &quot;nd&quot;</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="at">nth</span>(<span class="dv">12</span>)<span class="op">;</span> <span class="co">// &quot;th&quot;</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="at">nth</span>(<span class="dv">22</span>)<span class="op">;</span> <span class="co">// &quot;nd&quot;</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="at">nth</span>(<span class="dv">23</span>)<span class="op">;</span> <span class="co">// &quot;rd&quot;</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="at">nth</span>(<span class="dv">34</span>)<span class="op">;</span> <span class="co">// &quot;th&quot;</span></a></code></pre></div>
<p>See: <a href="#ordinal"><code>ordinal()</code></a></p>
<h2 id="ordinalnstring">ordinal(n):String</h2>
<p>Converts number into ordinal form (1st, 2nd, 3rd, 4th, …)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="at">ordinal</span>(<span class="dv">1</span>)<span class="op">;</span> <span class="co">// &quot;1st&quot;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="at">ordinal</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// &quot;2nd&quot;</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="at">ordinal</span>(<span class="dv">3</span>)<span class="op">;</span> <span class="co">// &quot;3rd&quot;</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="at">ordinal</span>(<span class="dv">14</span>)<span class="op">;</span> <span class="co">// &quot;14th&quot;</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="at">ordinal</span>(<span class="dv">21</span>)<span class="op">;</span> <span class="co">// &quot;21st&quot;</span></a></code></pre></div>
<p>See: <a href="#nth"><code>nth()</code></a></p>
<h2 id="padn-minlength-charstring">pad(n, minLength[, char]):String</h2>
<p>Add padding zeros if <code>n.length</code> &lt; <code>minLength</code>.</p>
<h3 id="example-6">Example:</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="at">pad</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span>      <span class="co">// &quot;00001&quot;</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="at">pad</span>(<span class="dv">12</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span>     <span class="co">// &quot;00012&quot;</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="at">pad</span>(<span class="dv">123</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span>    <span class="co">// &quot;00123&quot;</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="at">pad</span>(<span class="dv">1234</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span>   <span class="co">// &quot;01234&quot;</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="at">pad</span>(<span class="dv">12345</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span>  <span class="co">// &quot;12345&quot;</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="at">pad</span>(<span class="dv">123456</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span> <span class="co">// &quot;123456&quot;</span></a>
<a class="sourceLine" id="cb12-7" title="7"></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">// you can also specify the &quot;char&quot; used for padding</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="at">pad</span>(<span class="dv">12</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="st">&#39;_&#39;</span>)<span class="op">;</span> <span class="co">// &quot;___12&quot;</span></a></code></pre></div>
<p>see: <a href="./string.html#lpad">string/lpad</a></p>
<h2 id="rolval-shiftnumber">rol(val, shift):Number</h2>
<p>Bitwise circular shift left.</p>
<p>More info at <a href="http://en.wikipedia.org/wiki/Circular_shift">Wikipedia#Circular_shift</a></p>
<h2 id="rorval-shiftnumber">ror(val, shift):Number</h2>
<p>Bitwise circular shift right.</p>
<p>More info at <a href="http://en.wikipedia.org/wiki/Circular_shift">Wikipedia#Circular_shift</a></p>
<h2 id="signvalnumber">sign(val):Number</h2>
<p>Returns <code>-1</code> if value is negative, <code>0</code> if the value is <code>0</code> and <code>1</code> if value is positive. Useful for multiplications.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="at">sign</span>(<span class="op">-</span><span class="dv">123</span>)<span class="op">;</span> <span class="co">// -1</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="at">sign</span>(<span class="dv">123</span>)<span class="op">;</span>  <span class="co">// 1</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="at">sign</span>(<span class="dv">0</span>)<span class="op">;</span>    <span class="co">// 0</span></a></code></pre></div>
<h2 id="tointvalnumber">toInt(val):Number</h2>
<p>“Convert” value into an 32-bit integer. Works like <code>Math.floor</code> if <code>val &gt; 0</code> and <code>Math.ceil</code> if <code>val &lt; 0</code>.</p>
<p><strong>IMPORTANT:</strong> val will wrap at <a href="#MIN_INT">number/MIN_INT</a> and <a href="#MAX_INT">number/MAX_INT</a>.</p>
<p>Created because most people don’t know bitwise operations and also because this feature is commonly needed.</p>
<p><a href="http://jsperf.com/vs-vs-parseint-bitwise-operators/7">Perf tests</a></p>
<h3 id="example-7">Example:</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="at">toInt</span>(<span class="fl">1.25</span>)<span class="op">;</span>   <span class="co">// 1</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="at">toInt</span>(<span class="fl">0.75</span>)<span class="op">;</span>   <span class="co">// 0</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="at">toInt</span>(<span class="op">-</span><span class="fl">0.55</span>)<span class="op">;</span>  <span class="co">// 0</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="at">toInt</span>(<span class="op">-</span><span class="fl">5.0001</span>) <span class="co">// -5</span></a></code></pre></div>
<h2 id="touintvalnumber">toUInt(val):Number</h2>
<p>“Convert” value into an 32-bit unsigned integer.</p>
<p>Works like AS3#uint().</p>
<p><strong>IMPORTANT:</strong> val will wrap at 2^32.</p>
<h3 id="example-8">Example:</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="at">toUInt</span>(<span class="fl">1.25</span>)<span class="op">;</span>                 <span class="co">// 1</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="at">toUInt</span>(<span class="fl">0.75</span>)<span class="op">;</span>                 <span class="co">// 0</span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="at">toUInt</span>(<span class="op">-</span><span class="fl">0.55</span>)<span class="op">;</span>                <span class="co">// 0</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="at">toUInt</span>(<span class="op">-</span><span class="fl">5.0001</span>)<span class="op">;</span>              <span class="co">// 4294967291</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="at">toUInt</span>(<span class="va">Math</span>.<span class="at">pow</span>(<span class="dv">2</span><span class="op">,</span><span class="dv">32</span>) <span class="op">-</span> <span class="fl">0.5</span>)<span class="op">;</span> <span class="co">// 4294967295</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="at">toUInt</span>(<span class="va">Math</span>.<span class="at">pow</span>(<span class="dv">2</span><span class="op">,</span><span class="dv">32</span>) <span class="op">+</span> <span class="fl">0.5</span>)<span class="op">;</span> <span class="co">// 0</span></a></code></pre></div>
<h2 id="touint31valnumber">toUInt31(val):Number</h2>
<p>“Convert” value into an 31-bit unsigned integer (since 1 bit is used for sign).</p>
<p>Useful since all bitwise operators besides <code>&gt;&gt;&gt;</code> treat numbers as signed integers.</p>
<p><strong>IMPORTANT:</strong> val will wrap at 2^31 and negative numbers will be treated as <code>zero</code>.</p>
<h3 id="example-9">Example:</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="at">toUInt31</span>(<span class="fl">1.25</span>)<span class="op">;</span>                 <span class="co">// 1</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="at">toUInt31</span>(<span class="fl">0.75</span>)<span class="op">;</span>                 <span class="co">// 0</span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="at">toUInt31</span>(<span class="op">-</span><span class="fl">0.55</span>)<span class="op">;</span>                <span class="co">// 0</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="at">toUInt31</span>(<span class="op">-</span><span class="fl">5.0001</span>)<span class="op">;</span>              <span class="co">// 0</span></a>
<a class="sourceLine" id="cb16-5" title="5"><span class="at">toUInt31</span>(<span class="va">Math</span>.<span class="at">pow</span>(<span class="dv">2</span><span class="op">,</span><span class="dv">31</span>) <span class="op">-</span> <span class="fl">0.5</span>)<span class="op">;</span> <span class="co">// 21474836470</span></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="at">toUInt31</span>(<span class="va">Math</span>.<span class="at">pow</span>(<span class="dv">2</span><span class="op">,</span><span class="dv">31</span>) <span class="op">+</span> <span class="fl">0.5</span>)<span class="op">;</span> <span class="co">// 0</span></a></code></pre></div>
<hr />
<p>For more usage examples check specs inside <code>/tests</code> folder. Unit tests are the best documentation you can get…</p>
</body>
</html>
