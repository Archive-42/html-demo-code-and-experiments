ci-info
=======

Get details about the current Continuous Integration environment.

Please [open an issue](https://github.com/watson/ci-info/issues/new?template=ci-server-not-detected.md) if your CI server isnâ€™t properly detected :)

[![npm](https://img.shields.io/npm/v/ci-info.svg)](https://www.npmjs.com/package/ci-info) [![Build status](https://travis-ci.org/watson/ci-info.svg?branch=master)](https://travis-ci.org/watson/ci-info) [![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat)](https://github.com/feross/standard)

Installation
------------

    npm install ci-info --save

Usage
-----

    var ci = require('ci-info')

    if (ci.isCI) {
      console.log('The name of the CI server is:', ci.name)
    } else {
      console.log('This program is not running on a CI server')
    }

Supported CI tools
------------------

Officially supported CI servers:

<table><thead><tr class="header"><th>Name</th><th>Constant</th><th>isPR</th></tr></thead><tbody><tr class="odd"><td><a href="https://aws.amazon.com/codebuild/">AWS CodeBuild</a></td><td><code>ci.CODEBUILD</code></td><td>ðŸš«</td></tr><tr class="even"><td><a href="http://www.appveyor.com">AppVeyor</a></td><td><code>ci.APPVEYOR</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="https://azure.microsoft.com/en-us/services/devops/pipelines/">Azure Pipelines</a></td><td><code>ci.AZURE_PIPELINES</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://www.atlassian.com/software/bamboo">Bamboo</a> by Atlassian</td><td><code>ci.BAMBOO</code></td><td>ðŸš«</td></tr><tr class="odd"><td><a href="https://bitbucket.org/product/features/pipelines">Bitbucket Pipelines</a></td><td><code>ci.BITBUCKET</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://www.bitrise.io/">Bitrise</a></td><td><code>ci.BITRISE</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="https://buddy.works/">Buddy</a></td><td><code>ci.BUDDY</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://buildkite.com">Buildkite</a></td><td><code>ci.BUILDKITE</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="http://circleci.com">CircleCI</a></td><td><code>ci.CIRCLE</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://cirrus-ci.org">Cirrus CI</a></td><td><code>ci.CIRRUS</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="https://codeship.com">Codeship</a></td><td><code>ci.CODESHIP</code></td><td>ðŸš«</td></tr><tr class="even"><td><a href="https://drone.io">Drone</a></td><td><code>ci.DRONE</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="https://github.com/rfinnie/dsari">dsari</a></td><td><code>ci.DSARI</code></td><td>ðŸš«</td></tr><tr class="even"><td><a href="https://about.gitlab.com/gitlab-ci/">GitLab CI</a></td><td><code>ci.GITLAB</code></td><td>ðŸš«</td></tr><tr class="odd"><td><a href="https://www.go.cd/">GoCD</a></td><td><code>ci.GOCD</code></td><td>ðŸš«</td></tr><tr class="even"><td><a href="http://hudson-ci.org">Hudson</a></td><td><code>ci.HUDSON</code></td><td>ðŸš«</td></tr><tr class="odd"><td><a href="https://jenkins-ci.org">Jenkins CI</a></td><td><code>ci.JENKINS</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://magnum-ci.com">Magnum CI</a></td><td><code>ci.MAGNUM</code></td><td>ðŸš«</td></tr><tr class="odd"><td><a href="https://www.netlify.com/">Netlify CI</a></td><td><code>ci.NETLIFY</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://sail.ci/">Sail CI</a></td><td><code>ci.SAIL</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="https://semaphoreci.com">Semaphore</a></td><td><code>ci.SEMAPHORE</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://www.shippable.com/">Shippable</a></td><td><code>ci.SHIPPABLE</code></td><td>âœ…</td></tr><tr class="odd"><td><a href="https://www.solanolabs.com/">Solano CI</a></td><td><code>ci.SOLANO</code></td><td>âœ…</td></tr><tr class="even"><td><a href="https://strider-cd.github.io/">Strider CD</a></td><td><code>ci.STRIDER</code></td><td>ðŸš«</td></tr><tr class="odd"><td><a href="http://docs.taskcluster.net">TaskCluster</a></td><td><code>ci.TASKCLUSTER</code></td><td>ðŸš«</td></tr><tr class="even"><td><a href="https://www.jetbrains.com/teamcity/">TeamCity</a> by JetBrains</td><td><code>ci.TEAMCITY</code></td><td>ðŸš«</td></tr><tr class="odd"><td><a href="http://travis-ci.org">Travis CI</a></td><td><code>ci.TRAVIS</code></td><td>âœ…</td></tr></tbody></table>

API
---

### `ci.name`

Returns a string containing name of the CI server the code is running on. If CI server is not detected, it returns `null`.

Donâ€™t depend on the value of this string not to change for a specific vendor. If you find your self writing `ci.name === 'Travis CI'`, you most likely want to use `ci.TRAVIS` instead.

### `ci.isCI`

Returns a boolean. Will be `true` if the code is running on a CI server, otherwise `false`.

Some CI servers not listed here might still trigger the `ci.isCI` boolean to be set to `true` if they use certain vendor neutral environment variables. In those cases `ci.name` will be `null` and no vendor specific boolean will be set to `true`.

### `ci.isPR`

Returns a boolean if PR detection is supported for the current CI server. Will be `true` if a PR is being tested, otherwise `false`. If PR detection is not supported for the current CI server, the value will be `null`.

### `ci.<VENDOR-CONSTANT>`

A vendor specific boolean constant is exposed for each support CI vendor. A constant will be `true` if the code is determined to run on the given CI server, otherwise `false`.

Examples of vendor constants are `ci.TRAVIS` or `ci.APPVEYOR`. For a complete list, see the support table above.

Deprecated vendor constants that will be removed in the next major release:

-   `ci.TDDIUM` (Solano CI) This have been renamed `ci.SOLANO`

License
-------

[MIT](LICENSE)
