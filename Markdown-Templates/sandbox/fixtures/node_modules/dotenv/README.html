<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="dotenv">dotenv</h1>
<p><img src="https://raw.githubusercontent.com/motdotla/dotenv/master/dotenv.png" alt="dotenv" align="right" /></p>
<p>Dotenv is a zero-dependency module that loads environment variables from a <code>.env</code> file into <a href="https://nodejs.org/docs/latest/api/process.html#process_process_env"><code>process.env</code></a>. Storing configuration in the environment separate from code is based on <a href="http://12factor.net/config">The Twelve-Factor App</a> methodology.</p>
<p><a href="https://travis-ci.org/motdotla/dotenv"><img src="https://img.shields.io/travis/motdotla/dotenv/master.svg?style=flat-square" alt="BuildStatus" /></a> <a href="https://ci.appveyor.com/project/motdotla/dotenv/branch/master"><img src="https://ci.appveyor.com/api/projects/status/github/motdotla/dotenv?svg=true" alt="Build status" /></a> <a href="https://www.npmjs.com/package/dotenv"><img src="https://img.shields.io/npm/v/dotenv.svg?style=flat-square" alt="NPM version" /></a> <a href="https://github.com/feross/standard"><img src="https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square" alt="js-standard-style" /></a> <a href="https://coveralls.io/github/motdotla/dotenv?branch=coverall-intergration"><img src="https://img.shields.io/coveralls/motdotla/dotenv/master.svg?style=flat-square" alt="Coverage Status" /></a> <a href="LICENSE"><img src="https://img.shields.io/github/license/motdotla/dotenv.svg" alt="LICENSE" /></a> <a href="https://conventionalcommits.org"><img src="https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow.svg" alt="Conventional Commits" /></a></p>
<h2 id="install">Install</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># with npm</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="ex">npm</span> install dotenv</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co"># or with Yarn</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="ex">yarn</span> add dotenv</a></code></pre></div>
<h2 id="usage">Usage</h2>
<p>As early as possible in your application, require and configure dotenv.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>).<span class="at">config</span>()</a></code></pre></div>
<p>Create a <code>.env</code> file in the root directory of your project. Add environment-specific variables on new lines in the form of <code>NAME=VALUE</code>. For example:</p>
<pre class="dosini"><code>DB_HOST=localhost
DB_USER=root
DB_PASS=s1mpl3</code></pre>
<p><code>process.env</code> now has the keys and values you defined in your <code>.env</code> file.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> db <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;db&#39;</span>)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="va">db</span>.<span class="at">connect</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">host</span><span class="op">:</span> <span class="va">process</span>.<span class="va">env</span>.<span class="at">DB_HOST</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="dt">username</span><span class="op">:</span> <span class="va">process</span>.<span class="va">env</span>.<span class="at">DB_USER</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="dt">password</span><span class="op">:</span> <span class="va">process</span>.<span class="va">env</span>.<span class="at">DB_PASS</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="op">}</span>)</a></code></pre></div>
<h3 id="preload">Preload</h3>
<p>You can use the <code>--require</code> (<code>-r</code>) <a href="https://nodejs.org/api/cli.html#cli_r_require_module">command line option</a> to preload dotenv. By doing this, you do not need to require and load dotenv in your application code. This is the preferred approach when using <code>import</code> instead of <code>require</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1">$ <span class="ex">node</span> -r dotenv/config your_script.js</a></code></pre></div>
<p>The configuration options below are supported as command line arguments in the format <code>dotenv_config_&lt;option&gt;=value</code></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1">$ <span class="ex">node</span> -r dotenv/config your_script.js dotenv_config_path=/custom/path/to/your/env/vars</a></code></pre></div>
<p>Additionally, you can use environment variables to set configuration options. Command line arguments will precede these.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1">$ <span class="ex">DOTENV_CONFIG_</span><span class="op">&lt;</span>OPTION<span class="op">&gt;</span>=value node -r dotenv/config your_script.js</a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1">$ <span class="va">DOTENV_CONFIG_ENCODING=</span>latin1 <span class="ex">node</span> -r dotenv/config your_script.js dotenv_config_path=/custom/path/to/.env</a></code></pre></div>
<h2 id="config">Config</h2>
<p><code>config</code> will read your <code>.env</code> file, parse the contents, assign it to <a href="https://nodejs.org/docs/latest/api/process.html#process_process_env"><code>process.env</code></a>, and return an Object with a <code>parsed</code> key containing the loaded content or an <code>error</code> key if it failed.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> result <span class="op">=</span> <span class="va">dotenv</span>.<span class="at">config</span>()</a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="cf">if</span> (<span class="va">result</span>.<span class="at">error</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="cf">throw</span> <span class="va">result</span>.<span class="at">error</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="va">console</span>.<span class="at">log</span>(<span class="va">result</span>.<span class="at">parsed</span>)</a></code></pre></div>
<p>You can additionally, pass options to <code>config</code>.</p>
<h3 id="options">Options</h3>
<h4 id="path">Path</h4>
<p>Default: <code>path.resolve(process.cwd(), '.env')</code></p>
<p>You may specify a custom path if your file containing environment variables is located elsewhere.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>).<span class="at">config</span>(<span class="op">{</span> <span class="dt">path</span><span class="op">:</span> <span class="st">&#39;/full/custom/path/to/your/env/vars&#39;</span> <span class="op">}</span>)</a></code></pre></div>
<h4 id="encoding">Encoding</h4>
<p>Default: <code>utf8</code></p>
<p>You may specify the encoding of your file containing environment variables.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>).<span class="at">config</span>(<span class="op">{</span> <span class="dt">encoding</span><span class="op">:</span> <span class="st">&#39;latin1&#39;</span> <span class="op">}</span>)</a></code></pre></div>
<h4 id="debug">Debug</h4>
<p>Default: <code>false</code></p>
<p>You may turn on logging to help debug why certain keys or values are not being set as you expect.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>).<span class="at">config</span>(<span class="op">{</span> <span class="dt">debug</span><span class="op">:</span> <span class="va">process</span>.<span class="va">env</span>.<span class="at">DEBUG</span> <span class="op">}</span>)</a></code></pre></div>
<h2 id="parse">Parse</h2>
<p>The engine which parses the contents of your file containing environment variables is available to use. It accepts a String or Buffer and will return an Object with the parsed keys and values.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">const</span> dotenv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>)</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">const</span> buf <span class="op">=</span> <span class="va">Buffer</span>.<span class="at">from</span>(<span class="st">&#39;BASIC=basic&#39;</span>)</a>
<a class="sourceLine" id="cb13-3" title="3"><span class="kw">const</span> config <span class="op">=</span> <span class="va">dotenv</span>.<span class="at">parse</span>(buf) <span class="co">// will return an object</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="kw">typeof</span> config<span class="op">,</span> config) <span class="co">// object { BASIC : &#39;basic&#39; }</span></a></code></pre></div>
<h3 id="options-1">Options</h3>
<h4 id="debug-1">Debug</h4>
<p>Default: <code>false</code></p>
<p>You may turn on logging to help debug why certain keys or values are not being set as you expect.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> dotenv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>)</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">const</span> buf <span class="op">=</span> <span class="va">Buffer</span>.<span class="at">from</span>(<span class="st">&#39;hello world&#39;</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">const</span> opt <span class="op">=</span> <span class="op">{</span> <span class="dt">debug</span><span class="op">:</span> <span class="kw">true</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="kw">const</span> config <span class="op">=</span> <span class="va">dotenv</span>.<span class="at">parse</span>(buf<span class="op">,</span> opt)</a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co">// expect a debug message because the buffer is not in KEY=VAL form</span></a></code></pre></div>
<h3 id="rules">Rules</h3>
<p>The parsing engine currently supports the following rules:</p>
<ul>
<li><code>BASIC=basic</code> becomes <code>{BASIC: 'basic'}</code></li>
<li>empty lines are skipped</li>
<li>lines beginning with <code>#</code> are treated as comments</li>
<li>empty values become empty strings (<code>EMPTY=</code> becomes <code>{EMPTY: ''}</code>)</li>
<li>inner quotes are maintained (think JSON) (<code>JSON={"foo": "bar"}</code> becomes <code>{JSON:"{\"foo\": \"bar\"}"</code>)</li>
<li>whitespace is removed from both ends of unquoted values (see more on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim"><code>trim</code></a>) (<code>FOO=  some value</code> becomes <code>{FOO: 'some value'}</code>)</li>
<li>single and double quoted values are escaped (<code>SINGLE_QUOTE='quoted'</code> becomes <code>{SINGLE_QUOTE: "quoted"}</code>)</li>
<li>single and double quoted values maintain whitespace from both ends (<code>FOO="  some value  "</code> becomes <code>{FOO: '  some value  '}</code>)</li>
<li>double quoted values expand new lines (<code>MULTILINE="new\nline"</code> becomes</li>
</ul>
<pre><code>{MULTILINE: &#39;new
line&#39;}</code></pre>
<h2 id="faq">FAQ</h2>
<h3 id="should-i-commit-my-.env-file">Should I commit my <code>.env</code> file?</h3>
<p>No. We <strong>strongly</strong> recommend against committing your <code>.env</code> file to version control. It should only include environment-specific values such as database passwords or API keys. Your production database should have a different password than your development database.</p>
<h3 id="should-i-have-multiple-.env-files">Should I have multiple <code>.env</code> files?</h3>
<p>No. We <strong>strongly</strong> recommend against having a “main” <code>.env</code> file and an “environment” <code>.env</code> file like <code>.env.test</code>. Your config should vary between deploys, and you should not be sharing values between environments.</p>
<blockquote>
<p>In a twelve-factor app, env vars are granular controls, each fully orthogonal to other env vars. They are never grouped together as “environments”, but instead are independently managed for each deploy. This is a model that scales up smoothly as the app naturally expands into more deploys over its lifetime.</p>
<p>– <a href="http://12factor.net/config">The Twelve-Factor App</a></p>
</blockquote>
<h3 id="what-happens-to-environment-variables-that-were-already-set">What happens to environment variables that were already set?</h3>
<p>We will never modify any environment variables that have already been set. In particular, if there is a variable in your <code>.env</code> file which collides with one that already exists in your environment, then that variable will be skipped. This behavior allows you to override all <code>.env</code> configurations with a machine-specific environment, although it is not recommended.</p>
<p>If you want to override <code>process.env</code> you can do something like this:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">const</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">const</span> dotenv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>)</a>
<a class="sourceLine" id="cb16-3" title="3"><span class="kw">const</span> envConfig <span class="op">=</span> <span class="va">dotenv</span>.<span class="at">parse</span>(<span class="va">fs</span>.<span class="at">readFileSync</span>(<span class="st">&#39;.env.override&#39;</span>))</a>
<a class="sourceLine" id="cb16-4" title="4"><span class="cf">for</span> (<span class="kw">const</span> k <span class="kw">in</span> envConfig) <span class="op">{</span></a>
<a class="sourceLine" id="cb16-5" title="5">  <span class="va">process</span>.<span class="at">env</span>[k] <span class="op">=</span> envConfig[k]</a>
<a class="sourceLine" id="cb16-6" title="6"><span class="op">}</span></a></code></pre></div>
<h3 id="can-i-customizewrite-plugins-for-dotenv">Can I customize/write plugins for dotenv?</h3>
<p>For <code>dotenv@2.x.x</code>: Yes. <code>dotenv.config()</code> now returns an object representing the parsed <code>.env</code> file. This gives you everything you need to continue setting values on <code>process.env</code>. For example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">const</span> dotenv <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;dotenv&#39;</span>)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">const</span> variableExpansion <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;dotenv-expand&#39;</span>)</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="kw">const</span> myEnv <span class="op">=</span> <span class="va">dotenv</span>.<span class="at">config</span>()</a>
<a class="sourceLine" id="cb17-4" title="4"><span class="at">variableExpansion</span>(myEnv)</a></code></pre></div>
<h3 id="what-about-variable-expansion">What about variable expansion?</h3>
<p>Try <a href="https://github.com/motdotla/dotenv-expand">dotenv-expand</a></p>
<h3 id="how-do-i-use-dotenv-with-import">How do I use dotenv with <code>import</code>?</h3>
<p>ES2015 and beyond offers modules that allow you to <code>export</code> any top-level <code>function</code>, <code>class</code>, <code>var</code>, <code>let</code>, or <code>const</code>.</p>
<blockquote>
<p>When you run a module containing an <code>import</code> declaration, the modules it imports are loaded first, then each module body is executed in a depth-first traversal of the dependency graph, avoiding cycles by skipping anything already executed.</p>
<p>– <a href="https://hacks.mozilla.org/2015/08/es6-in-depth-modules/">ES6 In Depth: Modules</a></p>
</blockquote>
<p>You must run <code>dotenv.config()</code> before referencing any environment variables. Here’s an example of problematic code:</p>
<p><code>errorReporter.js</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="im">import</span> <span class="op">{</span> Client <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;best-error-reporting-service&#39;</span></a>
<a class="sourceLine" id="cb18-2" title="2"></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="im">export</span> <span class="kw">const</span> client <span class="op">=</span> <span class="kw">new</span> <span class="at">Client</span>(<span class="va">process</span>.<span class="va">env</span>.<span class="at">BEST_API_KEY</span>)</a></code></pre></div>
<p><code>index.js</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="im">import</span> dotenv <span class="im">from</span> <span class="st">&#39;dotenv&#39;</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="im">import</span> errorReporter <span class="im">from</span> <span class="st">&#39;./errorReporter&#39;</span></a>
<a class="sourceLine" id="cb19-3" title="3"></a>
<a class="sourceLine" id="cb19-4" title="4"><span class="va">dotenv</span>.<span class="at">config</span>()</a>
<a class="sourceLine" id="cb19-5" title="5"><span class="va">errorReporter</span>.<span class="va">client</span>.<span class="at">report</span>(<span class="kw">new</span> <span class="at">Error</span>(<span class="st">&#39;faq example&#39;</span>))</a></code></pre></div>
<p><code>client</code> will not be configured correctly because it was constructed before <code>dotenv.config()</code> was executed. There are (at least) 3 ways to make this work.</p>
<ol type="1">
<li>Preload dotenv: <code>node --require dotenv/config index.js</code> (<em>Note: you do not need to <code>import</code> dotenv with this approach</em>)</li>
<li>Import <code>dotenv/config</code> instead of <code>dotenv</code> (<em>Note: you do not need to call <code>dotenv.config()</code> and must pass options via the command line or environment variables with this approach</em>)</li>
<li>Create a separate file that will execute <code>config</code> first as outlined in <a href="https://github.com/motdotla/dotenv/issues/133#issuecomment-255298822">this comment on #133</a></li>
</ol>
<h2 id="contributing-guide">Contributing Guide</h2>
<p>See <a href="CONTRIBUTING.md">CONTRIBUTING.md</a></p>
<h2 id="change-log">Change Log</h2>
<p>See <a href="CHANGELOG.md">CHANGELOG.md</a></p>
<h2 id="whos-using-dotenv">Who’s using dotenv?</h2>
<p><a href="https://www.npmjs.com/browse/depended/dotenv">These npm modules depend on it.</a></p>
<p>Projects that expand it often use the <a href="https://www.npmjs.com/search?q=keywords:dotenv">keyword “dotenv” on npm</a>.</p>
</body>
</html>
