hast-util-from-selector
=======================

[![Build](https://img.shields.io/travis/syntax-tree/hast-util-from-selector.svg)](https://travis-ci.org/syntax-tree/hast-util-from-selector) [![Coverage](https://img.shields.io/codecov/c/github/syntax-tree/hast-util-from-selector.svg)](https://codecov.io/github/syntax-tree/hast-util-from-selector) [![Downloads](https://img.shields.io/npm/dm/hast-util-from-selector.svg)](https://www.npmjs.com/package/hast-util-from-selector) [![Size](https://img.shields.io/bundlephobia/minzip/hast-util-from-selector.svg)](https://bundlephobia.com/result?p=hast-util-from-selector) [![Sponsors](https://opencollective.com/unified/sponsors/badge.svg)](https://opencollective.com/unified) [![Backers](https://opencollective.com/unified/backers/badge.svg)](https://opencollective.com/unified) [![Chat](https://img.shields.io/badge/chat-spectrum-7b16ff.svg)](https://spectrum.chat/unified/syntax-tree)

[**hast**](https://github.com/syntax-tree/hast) utility to create nodes from an advanced CSS selector.

Install
-------

[npm](https://docs.npmjs.com/cli/install):

    npm install hast-util-from-selector

Use
---

    var from = require('hast-util-from-selector')

    console.log(from('p svg[viewbox=0 0 10 10] circle[cx=10][cy=10][r=10]'))

Yields:

    {
      type: 'element',
      tagName: 'p',
      properties: {},
      children: [
        {
          type: 'element',
          tagName: 'svg',
          properties: {viewBox: '0 0 10 10'},
          children: [
            {
              type: 'element',
              tagName: 'circle',
              properties: {cx: '10', cy: '10', r: '10'},
              children: []
            }
          ]
        }
      ]
    }

API
---

### `fromSelector([selector][, options])`

Create one or more [*element*](https://github.com/syntax-tree/hast#element) [*node*](https://github.com/syntax-tree/hast#nodes)s from a CSS selector.

###### Parameters

-   `selector` (`string`, optional) — CSS selector
-   `space` (`string`, optional) — Treated as `options.space`
-   `options.space` (enum, `'svg'` or `'html'`, default: `'html'`) — Which space first element in the selector is in. When an `svg` is created in HTML, the space is switched automatically to SVG

###### Returns

[`Element`](https://github.com/syntax-tree/hast#element).

Support
-------

-   \[x\] `*` (universal selector, *creates a `div` in HTML, `g` in SVG*)
-   \[x\] `p` (type selector)
-   \[x\] `.class` (class selector)
-   \[x\] `#id` (id selector)
-   \[x\] `[attr]` (attribute existence, *creates a boolean*)
-   \[x\] `[attr=value]` (attribute equality)
-   \[x\] `article p` (descendant combinator)
-   \[x\] `article > p` (child combinator)
-   \[x\] `section h1 + p` (next-sibling combinator, *not at root*)
-   \[x\] `section h1 ~ p` (subsequent-sibling combinator, *not at root*)

Security
--------

Use of `from-selector` can open you up to a [cross-site scripting (XSS)](https://en.wikipedia.org/wiki/Cross-site_scripting) attack as values are injected into the syntax tree.

Either do not use user input in `from-selector` or use [`hast-util-santize`](https://github.com/syntax-tree/hast-util-sanitize).

Contribute
----------

See [`contributing.md` in `syntax-tree/.github`](https://github.com/syntax-tree/.github/blob/master/contributing.md) for ways to get started. See [`support.md`](https://github.com/syntax-tree/.github/blob/master/support.md) for ways to get help.

This project has a [code of conduct](https://github.com/syntax-tree/.github/blob/master/code-of-conduct.md). By interacting with this repository, organization, or community you agree to abide by its terms.

License
-------

[MIT](license) © [Titus Wormer](https://wooorm.com)
