<!DOCTYPE html><html><!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="apple-touch-icon" sizes="180x180" href="https://www.netlifycms.org/img/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" href="https://www.netlifycms.org/img/favicon/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="https://www.netlifycms.org/img/favicon/favicon-16x16.png" sizes="16x16"/><link rel="mask-icon" href="https://www.netlifycms.org/img/favicon/safari-pinned-tab.svg" color="#96cf05"/><meta name="apple-mobile-web-app-title" content="NetlifyCMS"/><meta name="application-name" content="NetlifyCMS"/><style data-href="/styles.9e907bc32054b7771552.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 3.14.5"/><link rel="icon" href="https://www.netlifycms.org/favicon-32x32.png?v=e3357a778d78fa8fbaf8923a141b592f" type="image/png"/><link rel="manifest" href="https://www.netlifycms.org/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#ffffff"/><link rel="apple-touch-icon" sizes="48x48" href="https://www.netlifycms.org/icons/icon-48x48.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="72x72" href="https://www.netlifycms.org/icons/icon-72x72.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="96x96" href="https://www.netlifycms.org/icons/icon-96x96.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="144x144" href="https://www.netlifycms.org/icons/icon-144x144.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="192x192" href="https://www.netlifycms.org/icons/icon-192x192.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="256x256" href="https://www.netlifycms.org/icons/icon-256x256.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="384x384" href="https://www.netlifycms.org/icons/icon-384x384.png?v=e3357a778d78fa8fbaf8923a141b592f"/><link rel="apple-touch-icon" sizes="512x512" href="https://www.netlifycms.org/icons/icon-512x512.png?v=e3357a778d78fa8fbaf8923a141b592f"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Creating Custom Widgets | Netlify CMS | Open-Source Content Management System</title><link data-react-helmet="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,700,900|Roboto+Mono:400,700"/><meta data-react-helmet="true" name="description" content="Open source content management for your Git workflow"/><link as="script" rel="preload" href="https://www.netlifycms.org/webpack-runtime-d0796be46e1c4a4a18d2.js"/><link as="script" rel="preload" href="https://www.netlifycms.org/framework-3685a76283c1558af6ef.js"/><link as="script" rel="preload" href="https://www.netlifycms.org/532a2f07-f1ff72e02b25980b8b9d.js"/><link as="script" rel="preload" href="https://www.netlifycms.org/app-11be28668d20c4d44005.js"/><link as="script" rel="preload" href="https://www.netlifycms.org/commons-572030e8ad3284cd35c9.js"/><link as="script" rel="preload" href="https://www.netlifycms.org/component---src-templates-doc-page-js-af5dc630ac5652ee0f2c.js"/><link as="fetch" rel="preload" href="https://www.netlifycms.org/page-data/docs/custom-widgets/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="https://www.netlifycms.org/page-data/sq/d/3481581448.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="https://www.netlifycms.org/page-data/sq/d/703069602.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="https://www.netlifycms.org/page-data/app-data.json" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/docsearch.js@2.5.2/dist/cdn/docsearch.min.css"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1nu254a">*{box-sizing:border-box;}body{color:#313D3E;font-family:'Roboto',-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;line-height:1.7;font-size:16px;background:#EFF0F4;margin:0;-webkit-font-smoothing:antialiased;}img{max-width:100%;}ol,ul{list-style:none;margin:0;padding:0;}h1,h2,h3,h4,h5,h6{line-height:1.3;margin-top:0;margin-bottom:0.5em;}h1{font-size:36px;}h2{font-size:28px;}h3{font-size:24px;}p{margin-top:0;margin-bottom:0;}a{color:#7CA511;-webkit-text-decoration:none;text-decoration:none;}.gitter-open-chat-button,.gitter-open-chat-button:visited{padding:16px 24px;font-family:'Roboto',-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;font-size:16px;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;line-height:1;color:#313D3E;background-color:#C9FA4B;box-shadow:0 2px 16px 0 rgba(68,74,87,0.15),0 1px 4px 0 rgba(68,74,87,0.3);}.gitter-open-chat-button:hover{background-color:#97bf2f;box-shadow:0 2px 16px 0 rgba(68,74,87,0.25),0 1px 4px 0 rgba(68,74,87,0.5);}.gitter-open-chat-button:focus{box-shadow:0 0 6px 3px rgba(62,160,127,0.6);-webkit-transition:none;transition:none;}.gitter-open-chat-button:active{color:#F6F6F6;}</style><style data-emotion-css="14klrcw">.css-14klrcw{background:#1E1F21;padding-top:16px;padding-bottom:16px;-webkit-transition:background 0.2s ease,padding 0.2s ease,box-shadow 0.2s ease;transition:background 0.2s ease,padding 0.2s ease,box-shadow 0.2s ease;}@media (min-width:960px){.css-14klrcw{position:-webkit-sticky;position:sticky;top:0;width:100%;z-index:100;}}</style><header id="header" class="css-14klrcw e7p068e0"><style data-emotion-css="1t8hdlt">.css-1t8hdlt{margin-left:auto;margin-right:auto;max-width:1280px;padding-left:24px;padding-right:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}@media (min-width:1200px){.css-1t8hdlt{padding-left:40px;padding-right:40px;}}</style><div class="css-1t8hdlt e7p068e1"><style data-emotion-css="oegrkt">.css-oegrkt{-webkit-flex:1 0 50%;-ms-flex:1 0 50%;flex:1 0 50%;}@media (min-width:768px){.css-oegrkt{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:40px;}}</style><div class="css-oegrkt e7p068e2"><a href="https://www.netlifycms.org/"><img src="https://d33wubrfki0l68.cloudfront.net/1f4ce04369d08e4f8c3a7ca30a11c4873fda2ae1/5ec76/static/netlify-cms-logo-89325c27d4b56df2c79af749826c6730.svg" alt="Netlify CMS logo"/></a></div><style data-emotion-css="19psv2i">.css-19psv2i{-webkit-flex:1 0 50%;-ms-flex:1 0 50%;flex:1 0 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}@media (min-width:768px){.css-19psv2i{display:none;}}</style><div class="css-19psv2i e7p068e3"><style data-emotion-css="10q39u6">.css-10q39u6{background:none;border:0;color:white;padding:16px;font-size:18px;line-height:1;}</style><button class="css-10q39u6 e7p068e5"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCA1Ni45NjYgNTYuOTY2IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTYiIGhlaWdodD0iMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDU2Ljk2NiA1Ni45NjYiPjxwYXRoIGQ9Ik01NS4xNDYsNTEuODg3TDQxLjU4OCwzNy43ODZjMy40ODYtNC4xNDQsNS4zOTYtOS4zNTgsNS4zOTYtMTQuNzg2YzAtMTIuNjgyLTEwLjMxOC0yMy0yMy0yM3MtMjMsMTAuMzE4LTIzLDIzIHMxMC4zMTgsMjMsMjMsMjNjNC43NjEsMCw5LjI5OC0xLjQzNiwxMy4xNzctNC4xNjJsMTMuNjYxLDE0LjIwOGMwLjU3MSwwLjU5MywxLjMzOSwwLjkyLDIuMTYyLDAuOTIgYzAuNzc5LDAsMS41MTgtMC4yOTcsMi4wNzktMC44MzdDNTYuMjU1LDU0Ljk4Miw1Ni4yOTMsNTMuMDgsNTUuMTQ2LDUxLjg4N3ogTTIzLjk4NCw2YzkuMzc0LDAsMTcsNy42MjYsMTcsMTdzLTcuNjI2LDE3LTE3LDE3IHMtMTctNy42MjYtMTctMTdTMTQuNjEsNiwyMy45ODQsNnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K" alt="search"/></button><button class="css-10q39u6 e7p068e4"><span>☰</span></button></div><style data-emotion-css="1my12nl">.css-1my12nl{display:none;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;margin-top:16px;}@media (min-width:768px){.css-1my12nl{display:block;width:auto;margin-top:0;}}@media (min-width:768px){.css-1my12nl{-webkit-flex:1;-ms-flex:1;flex:1;max-width:200px;margin-right:16px;}}</style><div class="css-1my12nl e7p068e7"><style data-emotion-css="16uytrl">.css-16uytrl > span{width:100%;}</style><form class="css-16uytrl e1alq45g0"><style data-emotion-css="iix20i">.css-iix20i{color:white;font-size:16px;border-radius:4px;background-color:rgba(255,255,255,0.1);background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCA1Ni45NjYgNTYuOTY2IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTYiIGhlaWdodD0iMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDU2Ljk2NiA1Ni45NjYiPjxwYXRoIGQ9Ik01NS4xNDYsNTEuODg3TDQxLjU4OCwzNy43ODZjMy40ODYtNC4xNDQsNS4zOTYtOS4zNTgsNS4zOTYtMTQuNzg2YzAtMTIuNjgyLTEwLjMxOC0yMy0yMy0yM3MtMjMsMTAuMzE4LTIzLDIzIHMxMC4zMTgsMjMsMjMsMjNjNC43NjEsMCw5LjI5OC0xLjQzNiwxMy4xNzctNC4xNjJsMTMuNjYxLDE0LjIwOGMwLjU3MSwwLjU5MywxLjMzOSwwLjkyLDIuMTYyLDAuOTIgYzAuNzc5LDAsMS41MTgtMC4yOTcsMi4wNzktMC44MzdDNTYuMjU1LDU0Ljk4Miw1Ni4yOTMsNTMuMDgsNTUuMTQ2LDUxLjg4N3ogTTIzLjk4NCw2YzkuMzc0LDAsMTcsNy42MjYsMTcsMTdzLTcuNjI2LDE3LTE3LDE3IHMtMTctNy42MjYtMTctMTdTMTQuNjEsNiwyMy45ODQsNnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K);background-repeat:no-repeat;background-position:8px 50%;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;padding:8px;padding-left:30px;outline:0;}</style><input type="search" placeholder="Search the docs" id="algolia-search" class="css-iix20i e1alq45g1"/></form></div><style data-emotion-css="1y83mm8">.css-1y83mm8{display:none;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;margin-top:16px;}@media (min-width:768px){.css-1y83mm8{display:block;width:auto;margin-top:0;}}@media (min-width:768px){.css-1y83mm8{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:auto;}}</style><div class="css-1y83mm8 e7p068e8"><style data-emotion-css="1dmf4h7">@media (min-width:768px){.css-1dmf4h7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}}</style><ul class="css-1dmf4h7 e7p068e9"><style data-emotion-css="164r41r">.css-164r41r{margin-top:8px;}</style><style data-emotion-css="oa8hgo">.css-oa8hgo{margin-bottom:16px;margin-top:8px;}@media (min-width:768px){.css-oa8hgo{margin-bottom:0;}.css-oa8hgo:not(:last-child){margin-right:16px;}}</style><li class="css-oa8hgo e7p068e10"><span><a href="https://github.com/netlify/netlify-cms" data-icon="octicon-star" data-show-count="true" aria-label="Star netlify/netlify-cms on GitHub">Star</a></span></li><style data-emotion-css="1qmz0bo">.css-1qmz0bo{margin-bottom:16px;}@media (min-width:768px){.css-1qmz0bo{margin-bottom:0;}.css-1qmz0bo:not(:last-child){margin-right:16px;}}</style><li class="css-1qmz0bo e7p068e10"><style data-emotion-css="1m5zifq">.css-1m5zifq{color:white;-webkit-text-decoration:none;text-decoration:none;font-weight:600;}</style><a class="css-1m5zifq e7p068e11" href="https://www.netlifycms.org/docs/intro/">Docs</a></li><li class="css-1qmz0bo e7p068e10"><a class="css-1m5zifq e7p068e11" href="https://www.netlifycms.org/docs/contributor-guide/">Contributing</a></li><li class="css-1qmz0bo e7p068e10"><a class="css-1m5zifq e7p068e11" href="https://www.netlifycms.org/community/">Community</a></li><li class="css-1qmz0bo e7p068e10"><a class="css-1m5zifq e7p068e11" href="https://www.netlifycms.org/blog/">Blog</a></li></ul></div></div></header><style data-emotion-css="1porjby">.css-1porjby{margin-left:auto;margin-right:auto;max-width:1280px;padding-left:24px;padding-right:24px;max-width:1024px;}@media (min-width:1200px){.css-1porjby{padding-left:40px;padding-right:40px;}}</style><div class="css-1porjby e1bz4uo60"><style data-emotion-css="1i3twy8">@media (min-width:768px){.css-1i3twy8{display:grid;grid-template-columns:300px minmax(0,1fr);grid-gap:2rem;}}</style><style data-emotion-css="1mqesi9">.css-1mqesi9{padding-top:40px;padding-bottom:40px;}@media (min-width:768px){.css-1mqesi9{padding-top:64px;padding-bottom:64px;}}@media (min-width:768px){.css-1mqesi9{display:grid;grid-template-columns:300px minmax(0,1fr);grid-gap:2rem;}}</style><div class="css-1mqesi9 e1c143n80"><div><aside><style data-emotion-css="10ib5jr">.css-10ib5jr{margin-bottom:40px;}</style><nav class="css-10ib5jr e1crxeno0"><style data-emotion-css="u41h5e">.css-u41h5e{display:inline-block;background-image:linear-gradient(0deg,#97bf2f 14%,#c9fa4b 94%);color:#2F3132;border-radius:4px;font-size:16px;font-weight:700;padding:8px 16px;border:2px solid #7CA511;cursor:pointer;display:block;width:100%;}@media (min-width:768px){.css-u41h5e{display:none;}}</style><button class="css-u41h5e e1crxeno1"><span>☰</span> <!-- -->Show<!-- --> <!-- -->Navigation</button><style data-emotion-css="l4bi23">.css-l4bi23{display:none;background:white;padding:16px;}@media (min-width:768px){.css-l4bi23{display:block;background:transparent;padding:0;}}</style><div class="css-l4bi23 e1crxeno2"><style data-emotion-css="1qm1lh">.css-1qm1lh{margin-bottom:16px;}</style><div class="css-1qm1lh e1crxeno3"><style data-emotion-css="15k3zid">.css-15k3zid{font-size:18px;margin-bottom:8px;}</style><h3 class="css-15k3zid e1crxeno4">Intro to Netlify CMS</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><style data-emotion-css="ri6ux1">.css-ri6ux1{display:block;font-size:16px;color:#313D3E;line-height:1.3;text-transform:capitalize;-webkit-transition:color 0.2s ease;transition:color 0.2s ease;padding:8px 0;}.css-ri6ux1.active{color:#7CA511;font-weight:bold;}.css-ri6ux1:hover{color:#7CA511;}</style><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/intro/">Overview</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/start-with-a-template/">Start with a Template</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/add-to-your-site/">Add to Your Site</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/releases/">Releases</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Account Settings</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/backends-overview/">Overview</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/git-gateway-backend/">Git Gateway</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/azure-backend/">Azure</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/bitbucket-backend/">Bitbucket</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/github-backend/">GitHub</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/gitlab-backend/">GitLab</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/test-backend/">Test</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/external-oauth-clients/">External OAuth Clients</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Configuring your Site</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/configuration-options/">Configuration Options</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/beta-features/">Beta Features!</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Media</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/cloudinary/">Cloudinary</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/netlify-large-media/">Netlify Large Media</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/uploadcare/">Uploadcare</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Workflow</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/deploy-preview-links/">Deploy Preview Links</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/open-authoring/">Open Authoring</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Collections</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/collection-types/">Collection Types</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Fields</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/widgets/">Widgets</a></li><li class="css-0 e1crxeno6"><a aria-current="page" class="css-ri6ux1 e1crxeno7 active" href="https://www.netlifycms.org/docs/custom-widgets/">Creating Custom Widgets</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Platform Guides</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/site-generator-overview/">Overview</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/gatsby/">Gatsby</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/hugo/">Hugo</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/jekyll/">Jekyll</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/nextjs/">NextJS</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/nuxt/">Nuxt</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/middleman/">Middleman</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/gridsome/">Gridsome</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Customizing Netlify CMS</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/customization/">Creating Custom Previews</a></li></ul></div><div class="css-1qm1lh e1crxeno3"><h3 class="css-15k3zid e1crxeno4">Community</h3><ul class="css-0 e1crxeno5"><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/contributor-guide/">Contributor Guide</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/writing-style-guide/">Writing Style Guide</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/examples/">Examples</a></li><li class="css-0 e1crxeno6"><a class="css-ri6ux1 e1crxeno7" href="https://www.netlifycms.org/docs/architecture/">Architecture</a></li></ul></div></div></nav></aside></div><style data-emotion-css="1hevlhf">.css-1hevlhf{overflow:hidden;padding-left:2rem;}</style><div class="css-1hevlhf e53nlyv0"><article data-docs-content="true"><style data-emotion-css="mrs44u">.css-mrs44u{float:right;}.css-mrs44u a{font-weight:700;}.css-mrs44u #pencil{fill:#7ca511;}</style><div class="css-mrs44u"><a href="https://www.netlifycms.org/admin/#/edit/docs_Fields/custom-widgets" target="_blank" rel="noopener noreferrer"><svg version="1.1" id="pencil" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="14px" height="14px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path d="M398.875,248.875L172.578,475.187l-22.625-22.625L376.25,226.265L398.875,248.875z M308.375,158.39L82.063,384.687 l45.266,45.25L353.625,203.64L308.375,158.39z M263.094,113.125L36.828,339.437l22.625,22.625L285.75,135.765L263.094,113.125z M308.375,67.875L285.719,90.5L421.5,226.265l22.625-22.625L308.375,67.875z M376.25,0L331,45.25l135.75,135.766L512,135.781 L376.25,0z M32,453.5V480h26.5L32,453.5 M0,376.25L135.766,512H0V376.25L0,376.25z"></path></svg> <!-- -->Edit this page</a></div><h1>Creating Custom Widgets</h1><style data-emotion-css="1bf9cy0">.css-1bf9cy0 >:first-of-type{margin-top:0;}.css-1bf9cy0 >:last-child{margin-bottom:0;}.css-1bf9cy0 h1,.css-1bf9cy0 h2,.css-1bf9cy0 h3,.css-1bf9cy0 h4,.css-1bf9cy0 h5,.css-1bf9cy0 h6{line-height:1.3;margin-top:2em;margin-bottom:0.25em;}.css-1bf9cy0 h1{font-size:32px;}.css-1bf9cy0 h2{font-size:24px;}.css-1bf9cy0 h3{font-size:18px;}.css-1bf9cy0 h4{font-size:16px;}.css-1bf9cy0 ol,.css-1bf9cy0 ul{margin-left:16px;}.css-1bf9cy0 ul{list-style:disc;}.css-1bf9cy0 ol{list-style:decimal;}.css-1bf9cy0 li{margin-bottom:0;}.css-1bf9cy0 ol,.css-1bf9cy0 ul,.css-1bf9cy0 p{font-size:18px;margin-bottom:1rem;}.css-1bf9cy0 a{font-weight:bold;}.css-1bf9cy0 a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-1bf9cy0 table{border:0;background:#f7f7f7;border-radius:4px;margin-top:40px;margin-bottom:40px;width:100%;text-align:left;display:block;overflow:auto;}.css-1bf9cy0 tbody tr:nth-of-type(odd){background:#fdfdfd;}.css-1bf9cy0 th,.css-1bf9cy0 td{padding:8px;}.css-1bf9cy0 th{font-weight:700;font-size:18px;}.css-1bf9cy0 td{font-size:14px;}.css-1bf9cy0 iframe{width:100%;}.css-1bf9cy0 pre{border-radius:8px;margin-bottom:24px;margin-top:24px;}.css-1bf9cy0 pre > code{font-size:14px;line-height:1;}.css-1bf9cy0 *:not(pre) > code{color:inherit;background:#e6e6e6;border-radius:2px;padding:2px 6px;white-space:nowrap;font-size:14px;}</style><div class="css-1bf9cy0 e1qgb49e0"><p>The NetlifyCMS exposes a <code>window.CMS</code> a global object that you can use to register custom widgets, previews, and editor plugins. The same object is also the default export if you import Netlify CMS as an npm module. The available widget extension methods are:</p>
<ul>
<li><strong>registerWidget:</strong> registers a custom widget.</li>
<li><strong>registerEditorComponent:</strong> adds a block component to the Markdown editor.</li>
</ul>
<h3 id="writing-react-components-inline" style="position:relative;"><a href="#writing-react-components-inline" aria-label="writing react components inline permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing React Components inline</h3>
<p>The <code>registerWidget</code> requires you to provide a React component. If you have a build process in place for your project, it is possible to integrate with this build process.</p>
<p>However, although possible, it may be cumbersome or even impractical to add a React build phase. For this reason, NetlifyCMS exposes two constructs globally to allow you to create components inline: ‘createClass’ and ‘h’ (alias for React.createElement).</p>
<h2 id="registerwidget" style="position:relative;"><a href="#registerwidget" aria-label="registerwidget permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>registerWidget</code></h2>
<p>Register a custom widget.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Using global window object</span>
<span class="token constant">CMS</span><span class="token punctuation">.</span><span class="token function">registerWidget</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> control<span class="token punctuation">,</span> <span class="token punctuation">[</span>preview<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>schema<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Using npm module import</span>
<span class="token keyword">import</span> <span class="token constant">CMS</span> <span class="token keyword">from</span> <span class="token string">'netlify-cms'</span><span class="token punctuation">;</span>
<span class="token constant">CMS</span><span class="token punctuation">.</span><span class="token function">registerWidget</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> control<span class="token punctuation">,</span> <span class="token punctuation">[</span>preview<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>schema<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>Params:</strong></p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>Widget name, allows this widget to be used via the field <code>widget</code> property in config</td>
</tr>
<tr>
<td><code>control</code></td>
<td><code>React.Component</code> or <code>string</code></td>
<td><ul><li>React component that renders the control, receives the following props: <ul><li><strong>value:</strong> Current field value</li><li><strong>field:</strong> Immutable map of current field configuration</li><li><strong>forID:</strong> Unique identifier for the field</li><li><strong>classNameWrapper:</strong> class name to apply CMS styling to the field</li><li><strong>onChange:</strong> Callback function to update the field value</li></ul></li><li>Name of a registered widget whose control should be used (includes built in widgets).</li></ul></td>
</tr>
<tr>
<td>[<code>preview</code>]</td>
<td><code>React.Component</code>, optional</td>
<td>Renders the widget preview, receives the following props: <ul><li><strong>value:</strong> Current preview value</li><li><strong>field:</strong> Immutable map of current field configuration</li><li><strong>metadata:</strong> Immutable map of any available metadata for the current field</li><li><strong>getAsset:</strong> Function for retrieving an asset url for image/file fields</li><li><strong>entry:</strong> Immutable Map of all entry data</li><li><strong>fieldsMetaData:</strong> Immutable map of metadata from all fields.</li></ul></td>
</tr>
<tr>
<td>[<code>schema</code>]</td>
<td><code>JSON Schema object</code>, optional</td>
<td>Enforces a schema for the widget's field configuration</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<p><code>admin/index.html</code></p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">var</span> CategoriesControl <span class="token operator">=</span> <span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">handleChange</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> separator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'separator'</span><span class="token punctuation">,</span> <span class="token string">', '</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>separator<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> e<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> separator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'separator'</span><span class="token punctuation">,</span> <span class="token string">', '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>forID<span class="token punctuation">,</span>
      className<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>classNameWrapper<span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> value <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>separator<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      onChange<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> CategoriesPreview <span class="token operator">=</span> <span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>key<span class="token operator">:</span> index<span class="token punctuation">}</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    separator<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token constant">CMS</span><span class="token punctuation">.</span><span class="token function">registerWidget</span><span class="token punctuation">(</span><span class="token string">'categories'</span><span class="token punctuation">,</span> CategoriesControl<span class="token punctuation">,</span> CategoriesPreview<span class="token punctuation">,</span> schema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></div>
<p><code>admin/config.yml</code></p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">collections</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> posts
    <span class="token key atrule">label</span><span class="token punctuation">:</span> Posts
    <span class="token key atrule">folder</span><span class="token punctuation">:</span> content/posts
    <span class="token key atrule">fields</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> title
        <span class="token key atrule">label</span><span class="token punctuation">:</span> Title
        <span class="token key atrule">widget</span><span class="token punctuation">:</span> string
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> categories
        <span class="token key atrule">label</span><span class="token punctuation">:</span> Categories
        <span class="token key atrule">widget</span><span class="token punctuation">:</span> categories
        <span class="token key atrule">separator</span><span class="token punctuation">:</span> __</code></pre></div>
<h2 id="registereditorcomponent" style="position:relative;"><a href="#registereditorcomponent" aria-label="registereditorcomponent permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>registerEditorComponent</code></h2>
<p>Register a block level component for the Markdown editor:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token constant">CMS</span><span class="token punctuation">.</span><span class="token function">registerEditorComponent</span><span class="token punctuation">(</span>definition<span class="token punctuation">)</span></code></pre></div>
<p><strong>Params</strong></p>
<ul>
<li><strong>definition:</strong> The component definition; must specify: id, label, fields, patterns, fromBlock, toBlock, toPreview</li>
</ul>
<blockquote>
<p>Additional properties are optional and will be passed to the underlying widget control (object widget by default). For example, adding a <code>collapsed: true</code> property will collapse the widget by default.</p>
</blockquote>
<p><strong>Example:</strong></p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token constant">CMS</span><span class="token punctuation">.</span><span class="token function">registerEditorComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Internal id of the component</span>
  id<span class="token operator">:</span> <span class="token string">"collapsible-note"</span><span class="token punctuation">,</span>
  <span class="token comment">// Visible label</span>
  label<span class="token operator">:</span> <span class="token string">"Collapsible Note"</span><span class="token punctuation">,</span>
  <span class="token comment">// Fields the user need to fill out when adding an instance of the component</span>
  fields<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'summary'</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'Summary'</span><span class="token punctuation">,</span>
      widget<span class="token operator">:</span> <span class="token string">'string'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'details'</span><span class="token punctuation">,</span>
      label<span class="token operator">:</span> <span class="token string">'Details'</span><span class="token punctuation">,</span>
      widget<span class="token operator">:</span> <span class="token string">'markdown'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// Regex pattern used to search for instances of this block in the markdown document.</span>
  <span class="token comment">// Patterns are run in a multline environment (against the entire markdown document),</span>
  <span class="token comment">// and so generally should make use of the multiline flag (`m`). If you need to capture</span>
  <span class="token comment">// newlines in your capturing groups, you can either use something like</span>
  <span class="token comment">// `([\S\s]*)`, or you can additionally enable the "dot all" flag (`s`),</span>
  <span class="token comment">// which will cause `(.*)` to match newlines as well.</span>
  <span class="token comment">//</span>
  <span class="token comment">// Additionally, it's recommended that you use non-greedy capturing groups (e.g.</span>
  <span class="token comment">// `(.*?)` vs `(.*)`), especially if matching against newline characters.</span>
  pattern<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^&lt;details>$\s*?&lt;summary>(.*?)&lt;\/summary>\n\n(.*?)\n^&lt;\/details>$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ms</span></span><span class="token punctuation">,</span>
  <span class="token comment">// Given a RegExp Match object</span>
  <span class="token comment">// (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match#return_value),</span>
  <span class="token comment">// return an object with one property for each field defined in `fields`.</span>
  <span class="token comment">//</span>
  <span class="token comment">// This is used to populate the custom widget in the markdown editor in the CMS.</span>
  <span class="token function-variable function">fromBlock</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      summary<span class="token operator">:</span> match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      detail<span class="token operator">:</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Given an object with one property for each field defined in `fields`,</span>
  <span class="token comment">// return the string you wish to be inserted into your markdown.</span>
  <span class="token comment">//</span>
  <span class="token comment">// This is used to serialize the data from the custom widget to the</span>
  <span class="token comment">// markdown document</span>
  <span class="token function-variable function">toBlock</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
&lt;details>
  &lt;summary></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>summary<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/summary>

  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>detail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">

&lt;/details>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Preview output for this component. Can either be a string or a React component</span>
  <span class="token comment">// (component gives better render performance)</span>
  <span class="token function-variable function">toPreview</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
&lt;details>
  &lt;summary></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>summary<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/summary>

  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>detail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">

&lt;/details>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></div>
<p><strong>Result:</strong></p>
<p>![youtube-widget](/img/screen shot 2018-01-05 at 4.25.07 pm.png)</p>
<h2 id="advanced-field-validation" style="position:relative;"><a href="#advanced-field-validation" aria-label="advanced field validation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced field validation</h2>
<p>All widget fields, including those for built-in widgets, <a href="https://www.netlifycms.org/docs/widgets/#common-widget-options">include basic validation</a> capability using the <code>required</code> and <code>pattern</code> options.</p>
<p>With custom widgets, the widget control can also optionally implement an <code>isValid</code> method to perform custom validations, in addition to presence and pattern. The <code>isValid</code> method will be automatically called, and it can return either a boolean value, an object with an error message or a promise. Examples:</p>
<p><strong>Boolean</strong>
No errors:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Do internal validation</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Existing error:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Do internal validation</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>Object with <code>error</code> (useful for returning custom error messages)</strong>
Existing error:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Do internal validation</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Your error message.'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>Promise</strong>
You can also return a promise from <code>isValid</code>. While the promise is pending, the widget will be marked as "in error". When the promise resolves, the error is automatically cleared.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>existingPromise<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>Note:</strong> Do not create a promise inside <code>isValid</code> - <code>isValid</code> is called right before trying to persist. This means that even if a previous promise was already resolved, when the user hits 'save', <code>isValid</code> will be called again. If it returns a new promise, it will be immediately marked as "in error" until the new promise resolves.</p>
<h2 id="writing-custom-widgets-as-a-separate-package" style="position:relative;"><a href="#writing-custom-widgets-as-a-separate-package" aria-label="writing custom widgets as a separate package permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing custom widgets as a separate package</h2>
<p>Widgets are inputs for the Netlify CMS editor interface. It's a React component that receives user input and outputs a serialized value. Those are the only rules - the component can be extremely simple, like text input, or extremely complicated, like a full-blown markdown editor. They can make calls to external services, and generally do anything that JavaScript can do.</p>
<p>For writing custom widgets as a separate package you should follow these steps:</p>
<ol>
<li>
<p>Create a directory</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">mkdir my<span class="token operator">-</span>custom<span class="token operator">-</span>widget</code></pre></div>
</li>
<li>
<p>Navigate to the directory</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">cd my<span class="token operator">-</span>custom<span class="token operator">-</span>widget</code></pre></div>
</li>
<li>
<p>For setting up a new npm package run this command:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">npm init</code></pre></div>
</li>
<li>
<p>Answer the questions in the command line questionnaire.</p>
</li>
<li>
<p>In order to build React components, we need to set up a build step. We'll be using Webpack. Please run the following commands to install the required dependencies:</p>
</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">   npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>loader@<span class="token number">7</span> babel<span class="token operator">-</span>core babel<span class="token operator">-</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>properties babel<span class="token operator">-</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span><span class="token keyword">export</span><span class="token operator">-</span>extensions babel<span class="token operator">-</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span>object<span class="token operator">-</span>rest<span class="token operator">-</span>spread babel<span class="token operator">-</span>preset<span class="token operator">-</span>env babel<span class="token operator">-</span>preset<span class="token operator">-</span>react cross<span class="token operator">-</span>env css<span class="token operator">-</span>loader html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin netlify<span class="token operator">-</span>cms react source<span class="token operator">-</span>map<span class="token operator">-</span>loader style<span class="token operator">-</span>loader webpack webpack<span class="token operator">-</span>cli webpack<span class="token operator">-</span>serve</code></pre></div>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">   npm install <span class="token operator">--</span>save prop<span class="token operator">-</span>types</code></pre></div>
<p>And you should manually add "<strong>peerDependencies</strong>" and "<strong>scripts</strong>" as shown below.</p>
<p>Here is the content of <code>package.json</code> that you will have at the end:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"netlify-cms-widget-starter"</span><span class="token punctuation">,</span>
  <span class="token string">"description"</span><span class="token operator">:</span> <span class="token string">"A boilerplate for creating Netlify CMS widgets."</span><span class="token punctuation">,</span>
  <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">"name of developer"</span><span class="token punctuation">,</span>
  <span class="token string">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"netlify"</span><span class="token punctuation">,</span>
    <span class="token string">"netlify-cms"</span><span class="token punctuation">,</span>
    <span class="token string">"cms"</span><span class="token punctuation">,</span>
    <span class="token string">"widget"</span><span class="token punctuation">,</span>
    <span class="token string">"starter"</span><span class="token punctuation">,</span>
    <span class="token string">"boilerplate"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"0.0.1"</span><span class="token punctuation">,</span>
  <span class="token string">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://github.com/netlify/netlify-cms-widget-starter"</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>
  <span class="token string">"main"</span><span class="token operator">:</span> <span class="token string">"dist/main.js"</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"babel-loader"</span><span class="token operator">:</span> <span class="token string">"^7.1.4"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-plugin-transform-class-properties"</span><span class="token operator">:</span> <span class="token string">"^6.24.1"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-plugin-transform-export-extensions"</span><span class="token operator">:</span> <span class="token string">"^6.22.0"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-plugin-transform-object-rest-spread"</span><span class="token operator">:</span> <span class="token string">"^6.26.0"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-preset-env"</span><span class="token operator">:</span> <span class="token string">"^1.6.1"</span><span class="token punctuation">,</span>
    <span class="token string">"babel-preset-react"</span><span class="token operator">:</span> <span class="token string">"^6.24.1"</span><span class="token punctuation">,</span>
    <span class="token string">"cross-env"</span><span class="token operator">:</span> <span class="token string">"^5.1.4"</span><span class="token punctuation">,</span>
    <span class="token string">"css-loader"</span><span class="token operator">:</span> <span class="token string">"^0.28.11"</span><span class="token punctuation">,</span>
    <span class="token string">"html-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^3.2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"netlify-cms"</span><span class="token operator">:</span> <span class="token string">"^1.5.0"</span><span class="token punctuation">,</span>
    <span class="token string">"react"</span><span class="token operator">:</span> <span class="token string">"^16.3.2"</span><span class="token punctuation">,</span>
    <span class="token string">"source-map-loader"</span><span class="token operator">:</span> <span class="token string">"^0.2.3"</span><span class="token punctuation">,</span>
    <span class="token string">"style-loader"</span><span class="token operator">:</span> <span class="token string">"^0.20.3"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack"</span><span class="token operator">:</span> <span class="token string">"^4.6.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^2.0.14"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-serve"</span><span class="token operator">:</span> <span class="token string">"^0.3.1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"prop-types"</span><span class="token operator">:</span> <span class="token string">"^15.6.1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"peerDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"react"</span><span class="token operator">:</span> <span class="token string">"^16"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"webpack-serve --static public --open"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="5">
<li>
<p>Create a Webpack configuration file with this content:</p>
<p><code>webpack.config.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> developmentConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./dev/index.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span> minimize<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'source-map-loader'</span><span class="token punctuation">,</span>
        enforce<span class="token operator">:</span> <span class="token string">'pre'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'style-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'css-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  devtool<span class="token operator">:</span> <span class="token string">'eval-source-map'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> productionConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> productionConfig <span class="token operator">:</span> developmentConfig</code></pre></div>
</li>
<li>
<p>The <code>.babelrc</code> file is our local configuration for our code in the project. You should create it under the root of the application repo. It will affect all files that Babel processes. So, create a <code>.babelrc</code> file under the main project with this content:</p>
</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token string">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"react"</span><span class="token punctuation">,</span>
    <span class="token string">"env"</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"transform-export-extensions"</span><span class="token punctuation">,</span>
    <span class="token string">"transform-class-properties"</span><span class="token punctuation">,</span>
    <span class="token string">"transform-object-rest-spread"</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="7">
<li>Create a <code>src</code> directory with the files <code>Control.js</code>, <code>Preview.js</code> and <code>index.js</code></li>
</ol>
<p><code>src/Control.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"> <span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>
 <span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

 <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Control</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
   <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
     onChange<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
     forID<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
     value<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>node<span class="token punctuation">,</span>
     classNameWrapper<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
     value<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span>

   <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> <span class="token punctuation">{</span>
       forID<span class="token punctuation">,</span>
       value<span class="token punctuation">,</span>
       onChange<span class="token punctuation">,</span>
       classNameWrapper<span class="token punctuation">,</span>
     <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

     <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token operator">&lt;</span>input
         type<span class="token operator">=</span><span class="token string">"text"</span>
         id<span class="token operator">=</span><span class="token punctuation">{</span>forID<span class="token punctuation">}</span>
         className<span class="token operator">=</span><span class="token punctuation">{</span>classNameWrapper<span class="token punctuation">}</span>
         value<span class="token operator">=</span><span class="token punctuation">{</span>value <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span>
         onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">onChange</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
       <span class="token operator">/</span><span class="token operator">></span>
     <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span></code></pre></div>
<p><code>src/Preview.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Preview</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> value <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Preview<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>node<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p><code>src/index.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Control <span class="token keyword">from</span> <span class="token string">'./Control'</span>
<span class="token keyword">import</span> Preview <span class="token keyword">from</span> <span class="token string">'./Preview'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>Control <span class="token operator">=</span> Control
  window<span class="token punctuation">.</span>Preview <span class="token operator">=</span> Preview
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Control<span class="token punctuation">,</span> Preview <span class="token punctuation">}</span></code></pre></div>
<ol start="8">
<li>Now you need to set up the locale example site.
Under the main project, create a <code>dev</code> directory with the files <code>bootstrap.js</code> and <code>index.js</code></li>
</ol>
<p><code>bootstrap.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token constant">CMS_MANUAL_INIT</span> <span class="token operator">=</span> <span class="token boolean">true</span></code></pre></div>
<p><code>index.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'./bootstrap.js'</span>
<span class="token keyword">import</span> <span class="token constant">CMS</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> init <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'netlify-cms'</span>
<span class="token keyword">import</span> <span class="token string">'netlify-cms/dist/cms.css'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Control<span class="token punctuation">,</span> Preview <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../src'</span>

<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
backend<span class="token operator">:</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test-repo'</span><span class="token punctuation">,</span>
 login<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
media_folder<span class="token operator">:</span> <span class="token string">'assets'</span><span class="token punctuation">,</span>
collections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
 label<span class="token operator">:</span> <span class="token string">'Test'</span><span class="token punctuation">,</span>
 files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
   file<span class="token operator">:</span> <span class="token string">'test.yml'</span><span class="token punctuation">,</span>
   name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
   label<span class="token operator">:</span> <span class="token string">'Test'</span><span class="token punctuation">,</span>
   fields<span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'test_widget'</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'Test Widget'</span><span class="token punctuation">,</span> widget<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token constant">CMS</span><span class="token punctuation">.</span><span class="token function">registerWidget</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> Control<span class="token punctuation">,</span> Preview<span class="token punctuation">)</span>

<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span> config <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="development" style="position:relative;"><a href="#development" aria-label="development permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/netlify/netlify-cms-widget-starter#development" target="_blank" rel="noopener noreferrer"></a>Development</h3>
<p>To run a copy of Netlify CMS with your widget for development, use the start script:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">npm start</code></pre></div>
<p>Your widget source is in the <code>src</code> directory, where there are separate files for the <code>Control</code> and <code>Preview</code> components.</p>
<h3 id="production--publishing" style="position:relative;"><a href="#production--publishing" aria-label="production  publishing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/netlify/netlify-cms-widget-starter#production--publishing" target="_blank" rel="noopener noreferrer"></a>Production &#x26; Publishing</h3>
<p>You'll want to take a few steps before publishing a production built package to npm:</p>
<ol>
<li>
<p>Customize <code>package.json</code> with details for your specific widget, e.g. name, description, author, version, etc.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"netlify-cms-widget-starter"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"A boilerplate for creating Netlify CMS widgets."</span><span class="token punctuation">,</span>
  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"name of developer"</span><span class="token punctuation">,</span>
  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"netlify"</span><span class="token punctuation">,</span>
    <span class="token string">"netlify-cms"</span><span class="token punctuation">,</span>
    <span class="token string">"cms"</span><span class="token punctuation">,</span>
    <span class="token string">"widget"</span><span class="token punctuation">,</span>
    <span class="token string">"starter"</span><span class="token punctuation">,</span>
    <span class="token string">"boilerplate"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.0.1"</span><span class="token punctuation">,</span>
  <span class="token comment">// ... rest</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>For discoverability, ensure that your package name follows the pattern <code>netlify-cms-widget-&#x3C;name></code>.</p>
</li>
<li>
<p>Delete this <code>README.md</code>, rename <code>README_TEMPLATE.md</code> to <code>README.md</code>, and update the new file for your specific widget.</p>
</li>
<li>
<p>Rename the exports in <code>src/index.js</code>. For example, if your widget is <code>netlify-cms-widget-awesome</code>, you would do:</p>
</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>AwesomeControl <span class="token operator">=</span> Control
  window<span class="token punctuation">.</span>AwesomePreview <span class="token operator">=</span> Preview
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> Control <span class="token keyword">as</span> AwesomeControl<span class="token punctuation">,</span> Preview <span class="token keyword">as</span> AwesomePreview <span class="token punctuation">}</span></code></pre></div>
<ol start="5">
<li>Optional: customize the component and file names in <code>src</code>.</li>
<li>If you haven't already, push your repo to your GitHub account so the source available to other developers.</li>
<li>Create a production build, which will be output to <code>dist</code>:</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">npm run build</code></pre></div>
<ol start="8">
<li>Finally, if you're sure things are tested and working, publish!</li>
</ol>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">npm publish</code></pre></div></div></article></div></div></div><style data-emotion-css="13adgee">.css-13adgee{background:white;padding-top:24px;padding-bottom:40px;}</style><footer class="css-13adgee e1mpk40y0"><style data-emotion-css="1lntjyq">.css-1lntjyq{margin-left:auto;margin-right:auto;max-width:1280px;padding-left:24px;padding-right:24px;}@media (min-width:1200px){.css-1lntjyq{padding-left:40px;padding-right:40px;}}</style><div class="css-1lntjyq e1bz4uo60"><style data-emotion-css="4c2eo7">.css-4c2eo7{text-align:center;}@media (min-width:960px){.css-4c2eo7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:left;}}</style><div class="css-4c2eo7 e1mpk40y1"><style data-emotion-css="191tu0t">.css-191tu0t{margin-bottom:16px;}@media (min-width:960px){.css-191tu0t{margin-bottom:0;}}</style><div class="css-191tu0t e1mpk40y2"><style data-emotion-css="ljd2d4">.css-ljd2d4{display:inline-block;padding:4px 16px;background-color:#51555D;color:white;font-weight:700;font-size:14px;border-radius:4px;margin-right:8px;}.css-ljd2d4:active,.css-ljd2d4:hover{background-color:#7CA511;}</style><a href="https://twitter.com/netlifycms" class="css-ljd2d4 e1mpk40y3">Twitter</a><a href="https://github.com/netlify/netlify-cms" class="css-ljd2d4 e1mpk40y3">GitHub</a></div><style data-emotion-css="19xcs3z">.css-19xcs3z{font-size:12px;color:#313D3E;opacity:0.5;}@media (min-width:960px){.css-19xcs3z{padding-left:24px;}}.css-19xcs3z a{font-weight:700;color:#313D3E;}</style><div class="css-19xcs3z e1mpk40y4"><p><a href="https://github.com/netlify/netlify-cms/blob/master/LICENSE" class="text-link">Distributed under MIT License</a> <!-- -->·<!-- --> <a href="https://github.com/netlify/netlify-cms/blob/master/CODE_OF_CONDUCT.md" class="text-link">Code of Conduct</a></p></div></div></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="https://www.netlifycms.org/docs/custom-widgets/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-11be28668d20c4d44005.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-e9bea5664158dcfcb925.js"],"component---src-pages-community-js":["/component---src-pages-community-js-a31d2caf297843f22fa7.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b22ef8b15417fe71f0e9.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2a844b8a3d5cb8ed4620.js"],"component---src-templates-doc-page-js":["/component---src-templates-doc-page-js-af5dc630ac5652ee0f2c.js"]};/*]]>*/</script><script async src='https://d33wubrfki0l68.cloudfront.net/bundles/b0554e9375709a3499dce3eb0dca868768c53f2b.js'></script><style data-emotion-css="4uo566">.css-4uo566{z-index:100;position:fixed;bottom:10px;right:10px;cursor:pointer;}</style><a href="https://www.netlifycms.org/chat" target="_blank" rel="noopener noreferrer" class="css-4uo566 edd07h10"><img src="https://d33wubrfki0l68.cloudfront.net/0957024499733a8a8a025a5263fa1179db2274d3/70dda/img/slack.svg"/></a><script src="http://unpkg.com/docsearch.js@2.4.1/dist/cdn/docsearch.min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42258181-12', 'auto');
  ga('send', 'pageview');

</script></body></html>